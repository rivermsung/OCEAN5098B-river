<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Data types and structures</title>

<script src="site_libs/header-attrs-2.28/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.13.2/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<script src="site_libs/clipboard-2.0.6/clipboard.min.js"></script>
<link href="site_libs/xaringanExtra-clipboard-0.2.6/xaringanExtra-clipboard.css" rel="stylesheet" />
<script src="site_libs/xaringanExtra-clipboard-0.2.6/xaringanExtra-clipboard.js"></script>
<script>window.xaringanExtraClipboard(null, {"button":"Copy Code","success":"Copied!","error":"Press Ctrl+C to Copy"})</script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>



<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; } /* Alert */
code span.an { color: #008000; } /* Annotation */
code span.at { } /* Attribute */
code span.bu { } /* BuiltIn */
code span.cf { color: #0000ff; } /* ControlFlow */
code span.ch { color: #008080; } /* Char */
code span.cn { color: #585cf6; } /* Constant */
code span.co { color: #4c886b; } /* Comment */
code span.cv { color: #008000; } /* CommentVar */
code span.do { color: #008000; } /* Documentation */
code span.dv { color: #0000cd; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cd; } /* Float */
code span.im { } /* Import */
code span.in { color: #008000; } /* Information */
code span.kw { color: #0000ff; } /* Keyword */
code span.op { color: #687687; } /* Operator */
code span.ot { color: #ff4000; } /* Other */
code span.pp { color: #ff4000; } /* Preprocessor */
code span.sc { color: #008080; } /* SpecialChar */
code span.ss { color: #008080; } /* SpecialString */
code span.st { color: #036a07; } /* String */
code span.va { } /* Variable */
code span.vs { color: #008080; } /* VerbatimString */
code span.wa { color: #008000; font-weight: bold; } /* Warning */

.sourceCode .row {
  width: 100%;
}
.sourceCode {
  overflow-x: auto;
}
.code-folding-btn {
  margin-right: -30px;
}
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<link rel="stylesheet" href="styles.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">OCEAN_5098</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="environment.html">Environment</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Manipulation
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="TEMP_basics.html">Basics</a>
    </li>
    <li>
      <a href="TEMP_dplyr.html">dplyr</a>
    </li>
    <li>
      <a href="TEMP_tidyr.html">tidyr</a>
    </li>
  </ul>
</li>
<li>
  <a href="TEMP_types.html">Types &amp; structures</a>
</li>
<li>
  <a href="TEMP_graphs.html">Graphics</a>
</li>
<li>
  <a href="TEMP_maps.html">Mapping</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Data types and structures</h1>

</div>


<a href="data:text/x-markdown;base64,LS0tCnRpdGxlOiAiRGF0YSB0eXBlcyBhbmQgc3RydWN0dXJlcyIKLS0tCgpgYGB7ciBldmFsID0gVFJVRSwgIG1lc3NhZ2U9RiwgaW5jbHVkZT1GQUxTRSwgd2FybmluZz1GLCBwdXJsPUYsIHJlc3VsdHM9ImhpZGUifQprbml0cjo6cHVybCgndHlwZXMuUm1kJywgZG9jdW1lbnRhdGlvbiA9IDApCmBgYAoKYGBge3IgZWNobz1GQUxTRSwgcHVybD1GfQp4ZnVuOjplbWJlZF9maWxlKCd0eXBlcy5SbWQnKQpgYGAKCmBgYHtyIGVjaG89RkFMU0UsIHB1cmw9Rn0KeGZ1bjo6ZW1iZWRfZmlsZSgndHlwZXMuUicpCmBgYAoKYGBge3IgZWNobz1GQUxTRX0KeGFyaW5nYW5FeHRyYTo6dXNlX2NsaXBib2FyZCgpCmBgYAoKLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KClByZXZpb3VzbHkgd2UgdXNlZCBgc3RyYCB0byBsZWFybiB0aGUgKipzdHJ1Y3R1cmUqKiBvZiBhbiBvYmplY3QuIEtub3dpbmcgdGhlIHR5cGUgYW5kIHN0cnVjdHVyZSBvZiB0aGUgZGF0YSB5b3UgYXJlIHdvcmtpbmcgb24gaXMgY3J1Y2lhbCBmb3IgYW55IGZ1cnRoZXIgYW5hbHlzaXMuIE5ldmVydGhlbGVzcywgdGhpcyBzdGVwIGlzIG9mdGVuIHNraXBwZWQsIHdoaWNoIGNhbiBsZWFkIHRvIHNlcmlvdXMgcHJvYmxlbXMgaW4gdGhlIGZvbGxvd2luZyBzdGVwcy4gVGhpcyBzZWN0aW9uIGludHJvZHVjZXMgc29tZSBjb21tb24gZGF0YSB0eXBlcyBhbmQgIHN0cnVjdHVyZXMgIHRoYXQgYXJlIGZyZXF1ZW50bHkgZW5jb3VudGVyZWQgaW4gdGhpcyBjb3Vyc2UuCgojIENvcmUgZGF0YSB0eXBlcwoKVGhlc2UgZGF0YSB0eXBlcywgb3IgKiptb2RlcyoqLCBkZXRlcm1pbmUgaG93IHRoZSB2YWx1ZXMgYXJlIHN0b3JlZCBpbiB0aGUgY29tcHV0ZXIuIFlvdSBjYW4gZGV0ZXJtaW5lIHRoZSBtb2RlIG9mIGFuIG9iamVjdCB3aXRoIHRoZSBgdHlwZW9mYCBmdW5jdGlvbi4gTm90ZSB0aGF0IFIgYWxzbyBoYXMgYSBidWlsdC1pbiBgbW9kZWAgZnVuY3Rpb24gdGhhdCBzZXJ2ZXMgdGhlIHNhbWUgcHVycG9zZSwgd2l0aCB0aGUgb25seSBleGNlcHRpb24gdGhhdCBpdCBkb2VzIG5vdCBkaXN0aW5ndWlzaCBiZXR3ZWVuICoqaW50ZWdlcnMqKiBhbmQgKipkb3VibGVzKiogKHNlZSBtZWFuaW5ncyBiZWxvdykuCgojIyBOdW1lcmljCgpUaGUgKipudW1lcmljKiogZGF0YSB0eXBlIGlzIHByb2JhYmx5IHRoZSBzaW1wbGVzdC4gSXQgY29uc2lzdHMgb2YgbnVtYmVycyBzdWNoIGFzICoqaW50ZWdlcnMqKiAoaXdob2xlLXZhbHVlZCBwb3NpdGl2ZSBvciBuZWdhdGl2ZSBudW1iZXIgb3IgMCwgZS5nLiAxICwtMyAsMzMgLDApIG9yICoqZG91YmxlcyoqIChlLmcuIDAuMywgMTIuNCwgLTAuMDQsIDEuMCkuIEZvciBleGFtcGxlLCB0byBjcmVhdGUgYSBudW1lcmljIChkb3VibGUpIHZlY3Rvciwgd2UgY2FuIHdyaXRlOgoKYGBge3IsICBldmFsPVR9CnggPC0gYygxLjAsIC0zLjQsIDIsIDE0MC4xKSAjIG51bWVyaWMgYW5kIGRvdWJsZQp0eXBlb2YoeCkgCm1vZGUoeCkKYGBgCgpOb3RlIHRoYXQgcmVtb3ZpbmcgdGhlIGZyYWN0aW9uYWwgcGFydCBvZiBhIG51bWJlciB3aGVuIGNyZWF0aW5nIGEgbnVtZXJpYyBvYmplY3QgZG9lcyBub3QgbmVjZXNzYXJpbHkgY3JlYXRlIGFuIGludGVnZXIuIEZvciBleGFtcGxlLCBjcmVhdGluZyBhbiBhcHBhcmVudCBpbnRlZ2VyIG9iamVjdCByZXN1bHRzIGluIGEgZG91YmxlIHdpdGggYHR5cGVvZmAgOgoKYGBge3IsICBldmFsPVR9CnggPC0gNAp0eXBlb2YoeCkKYGBgCgpUbyBmb3JjZSBSIHRvIHJlY29nbml6ZSBhIHZhbHVlIGFzIGFuIGludGVnZXIsIGFkZCBhIGNhcGl0YWwgYExgIHRvIHRoZSBudW1iZXIuCgpgYGB7ciwgIGV2YWw9VH0KeCA8LSA0TAp0eXBlb2YoeCkKYGBgCgojIyBDaGFyYWN0ZXIKClRoZSBkYXRhIHR5cGUgKipjaGFyYWN0ZXIqKiBjb25zaXN0cyBvZiBsZXR0ZXJzIG9yIHdvcmRzIHN1Y2ggYXMgImEiLCAiZiIsICJwcm9qZWN0IiwgImJpcmRzIi4KCmBgYHtyLCAgZXZhbD1UfQp4IDwtIGMoImJ1YnVsIiwgIm1hZ3BpZSIsICJzcG9vbmJpbGwiLCAiYmFyYmV0IikKdHlwZW9mKHgpCmBgYAoKQ2hhcmFjdGVycyBjYW4gYWxzbyBjb25zaXN0IG9mIG51bWJlcnMgdGhhdCBhcmUgcmVwcmVzZW50ZWQgYXMgY2hhcmFjdGVycy4gVGhlIGRpc3RpbmN0aW9uIGJldHdlZW4gYSBjaGFyYWN0ZXIgcmVwcmVzZW50YXRpb24gb2YgYSBudW1iZXIgYW5kIGEgbnVtZXJpY2FsIHJlcHJlc2VudGF0aW9uIGlzIGltcG9ydGFudC4gRm9yIGV4YW1wbGUsIGlmIHdlIGhhdmUgdHdvIG51bWVyaWMgdmVjdG9ycyBgeGAgYW5kIGB5YCBzdWNoIGFzOgoKCmBgYHtyLCAgZXZhbD1UfQp4IDwtIDMKeSA8LSA1LjMKeCArIHkKYGBgCgpJZiB3ZSByZXBlYXQgdGhlc2Ugc3RlcHMsIGJ1dCBpbnN0ZWFkIG9mIHJlcHJlc2VudGluZyBgeGAgYW5kIGB5YCBhcyAqKm51bWVyaWMqKiBhbmQgKipkb3VibGVzKiogd2UgZW50ZXIgJzMnIGFuZCAnNS4zJyBhcyAqKmNoYXJhY3RlcnMqKi4gV2hlbiB3ZSB0cnkgdG8gYWRkIHRoZW0gdXAsIHdlIHdpbGwgbG9naWNhbGx5IGdldCBhbiBlcnJvcjoKCgpgYGB7ciwgIGV2YWw9VH0KeCA8LSAiMyIKeSA8LSAiNS4zIgoKIyBub3QgcnVuOiAgeCsgeQoKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKIyBFcnJvciBpbiB4ICsgeTogbm9uLW51bWVyaWMgYXJndW1lbnQgdG8gYmluYXJ5IG9wZXJhdG9yICMKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCmBgYAoKTm90ZSB0aGUgdXNlIG9mIHF1b3RhdGlvbiBtYXJrcyB0byBmb3JjZSAqKmRvdWJsZSoqIHRvIGJlIHJlY29nbml6ZWQgYXMgKipjaGFyYWN0ZXIqKi4gQmUgY2FyZWZ1bCB0aGF0IHNvbWUgZnVuY3Rpb25zIGxpa2UgYHBsb3RgIGF1dG9tYXRpY2FsbHkgY29udmVydCAqKmNoYXJhY3RlcioqIHRvICoqZG91YmxlKiouIFRyeSBgcGxvdCh4LHkpYCwgaXQgd29ya3MhCgojIyBMb2dpY2FsCgpMb2dpY2FsIHZhbHVlcyBjYW4gdGFrZSBvbmUgb2YgdHdvIHZhbHVlcy9jb25kaXRpb25zOiBgVFJVRWAgb3IgYEZBTFNFYC4gVGhlc2UgY2FuIGFsc28gYmUgcmVwcmVzZW50ZWQgYXMgYDFgIG9yIGAwYCwgd2hpY2ggYXJlIGxhdGVyIGFzc2lnbmVkIGFzICoqbG9naWNhbCoqIHZhbHVlcy4gRm9yIGV4YW1wbGUsIHRvIGNyZWF0ZSBhIGxvZ2ljYWwgdmVjdG9yIHdpdGggNCBlbGVtZW50cywgeW91IGNhbiBlbnRlciB0aGUgZm9sbG93aW5nOgoKYGBge3IsICBldmFsPVR9CiMgZnVsbCB0ZXh0Ogp4IDwtIGMoVFJVRSwgRkFMU0UsIEZBTFNFLCBUUlVFKQojIG9yIGluIHNob3J0Ogp4IDwtIGMoVCwgRiwgRiwgVCkKYGBgCgpvcgoKYGBge3IsICBldmFsPVR9CngxPC1jKDEsMCwwLDEpCngyIDwtIGFzLmxvZ2ljYWwoYygxLDAsMCwxKSkKIyBPUjogeDMgPC0gYXMubG9naWNhbChjKDEsMCwwLDEpKQpgYGAKCk5vdGUgdGhhdCBgdHlwZW9mYCByZXR1cm5zICoqbG9naWNhbCoqIGluIGJvdGggY2FzZXMuIEFsc28gbm90ZSB0aGF0IHRoZSBgMWAgYW5kIGAwYCBpbiB0aGUgbGFzdCBleGFtcGxlIGFyZSBjb252ZXJ0ZWQgaW50ZXJuYWxseSBpbnRvIGBUUlVFYCBhbmQgYEZBTFNFYCB1c2luZyB0aGUgZnVuY3Rpb24gYGFzLmxvZ2ljYWxgICg9IGNyZWF0ZSBhIGxvZ2ljYWwgdmVjdG9yKS4KCiMgRGVyaXZlZCBkYXRhIHR5cGVzCgpUaGVzZSBkYXRhIHR5cGVzIGFyZSBzdG9yZWQgZWl0aGVyIGFzIG51bWVyaWMsIGNoYXJhY3RlciBvciBsb2dpY2FsLCBidXQgaGF2ZSBhZGRpdGlvbmFsICphdHRyaWJ1dGUqIGluZm9ybWF0aW9uIHRoYXQgYWxsb3dzIHRoZXNlIG9iamVjdHMgdG8gYmUgaGFuZGxlZCBpbiBhIHNwZWNpYWwgd2F5IGJ5IGNlcnRhaW4gZnVuY3Rpb25zLiBUaGVzZSBhdHRyaWJ1dGVzIGRlZmluZSB0aGUgKipjbGFzcyoqIG9mIGFuIG9iamVjdCBhbmQgY2FuIGJlIGV4dHJhY3RlZCBmcm9tIGFuIG9iamVjdCB1c2luZyB0aGUgYGNsYXNzYCBmdW5jdGlvbi4KCiMjIEZhY3RvcgoKKipGYWN0b3IqKiBpcyB1c2VkIHRvIGdyb3VwIHZhcmlhYmxlcyBpbnRvIGEgZml4ZWQgbnVtYmVyIG9mIHVuaXF1ZSBjYXRlZ29yaWVzIG9yICoqbGV2ZWxzKiouIEZvciBleGFtcGxlLCBhIGRhdGEgc2V0IGNhbiBiZSBncm91cGVkIGJ5ICpnZW5kZXIqIG9yICptb250aCogb2YgeWVhci4gU3VjaCBkYXRhIGlzIHVzdWFsbHkgbG9hZGVkIGludG8gUiBhcyBhICoqbnVtZXJpYyoqIG9yICoqY2hhcmFjdGVyKiogZGF0YSB0eXBlIGFuZCBtdXN0IHRoZW4gYmUgY29udmVydGVkIGludG8gYSBmYWN0b3IgdXNpbmcgdGhlIGBhcy5mYWN0b3JgIGZ1bmN0aW9uIChpZiB0aGlzIGhhcyBub3QgYmVlbiBkb25lIGF1dG9tYXRpY2FsbHkgd2hlbiBpbXBvcnRpbmcgdGhlIGRhdGEpLgoKYGBge3IsICBldmFsPVR9CmEgPC0gYygiTSIsICJGIiwgIkYiLCAiVSIsICJGIiwgIk0iLCAiTSIsICJNIiwgIkYiLCAiVSIpCnR5cGVvZihhKSAjIG1vZGUgY2hhcmFjdGVyCmNsYXNzKGEpIyBjbGFzcyBjaGFyYWN0ZXIKYS5mYWN0IDwtIGFzLmZhY3RvcihhKQpjbGFzcyhhLmZhY3QpIyBjbGFzcyBmYWN0b3IKYGBgCgoqKk5vdGUqKjogYGFgIGhhcyBub3QgY2hhbmdlZCB0aGUgbW9kZS4gVGhlIGRhdGEgaXMgc3RpbGwgb2YgdGhlIHR5cGUgYGNoYXJhY3RlcmAuIEhvd2V2ZXIsIGl0IG1heSBzZWVtIHN0cmFuZ2UgYXQgZmlyc3QsIGJ1dCB0aGUgZGVyaXZlZCBvYmplY3QgYGEuZmFjdGAgaXMgbm93IHN0b3JlZCBhcyBhbiBgaW50ZWdlcmAhCgpgYGB7ciwgIGV2YWw9VH0KbW9kZShhLmZhY3QpCnR5cGVvZihhLmZhY3QpCmBgYAoKSG93ZXZlciwgd2hlbiB3ZSBkaXNwbGF5IHRoZSBjb250ZW50IG9mIGBhLmZhY3RgIHdlIHNlZSBjaGFyYWN0ZXIgdmFsdWVzLgoKYGBge3IsICBldmFsPVR9CmEuZmFjdApgYGAKCioq54K65LuA6bq8KiogKHdoeSk/V2VsbCwgYGEuZmFjdGAgaXMgYSBtb3JlIGNvbXBsaWNhdGVkIG9iamVjdCB0aGFuIHRoZSBzaW1wbGUgb2JqZWN0cyBjcmVhdGVkIHNvIGZhci4gSW4gZmFjdCwgKipmYWN0b3IqKiBzdG9yZXMgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBub3QgdmlzaWJsZSBpbiBpdHMgb3V0cHV0LiBUaGlzIGhpZGRlbiBpbmZvcm1hdGlvbiBpcyBzdG9yZWQgaW4gKiphdHRyaWJ1dGVzKiouIFRvIHNlZSB0aGVzZSBoaWRkZW4gYXR0cmlidXRlcywgdXNlIHRoZSBgYXR0cmlidXRlc2AgZnVuY3Rpb24uCgpgYGB7ciwgIGV2YWw9VH0KYXR0cmlidXRlcyhhLmZhY3QpCmBgYAoKVGhlcmUgYXJlIHR3byBhdHRyaWJ1dGVzOiBgbGV2ZWxzYCBhbmQgYGNsYXNzYC4gVGhlIGBsZXZlbHNgIGF0dHJpYnV0ZSBsaXN0cyB0aGUgdGhyZWUgdW5pcXVlIHZhbHVlcyBpbiBgYS5mYWN0YC4gVGhlIG9yZGVyIGluIHdoaWNoIHRoZXNlIGxldmVscyBhcmUgbGlzdGVkIHJlZmxlY3RzIHRoZWlyICpudW1lcmljKiByZXByZXNlbnRhdGlvbiBbc2VlIGBzdHIgKGEuZmFjdClgIGFuZCB0aGUgbnVtZXJpYyBzZXF1ZW5jZSBnZW5lcmF0ZWQ6IGAyIDEgMSAzIC4uLmBdLiBTbyBlc3NlbnRpYWxseSwgYGEuZmFjdGAgc3RvcmVzIGVhY2ggdmFsdWUgYXMgYW4gaW50ZWdlciB0aGF0IHJlZmVycyB0byBvbmUgb2YgdGhlIHRocmVlIHVuaXF1ZSBsZXZlbHMuIFRoZSB1bmlxdWUgbGV2ZWxzIG9mIGEgZmFjdG9yIGFuZCB0aGUgb3JkZXIgaW4gd2hpY2ggdGhleSBhcmUgc3RvcmVkIGNhbiBiZSBleHRyYWN0ZWQgdXNpbmcgdGhlIGBsZXZlbHNgIGZ1bmN0aW9uLgoKYGBge3IsICBldmFsPVR9CmxldmVscyhhLmZhY3QpCmBgYAoKUmVtZW1iZXIgdGhhdCB0aGUgb3JkZXIgaW4gd2hpY2ggdGhlIGxldmVscyBhcmUgZGlzcGxheWVkIGNvcnJlc3BvbmRzIHRvIHRoZWlyIGludGVnZXIgcmVwcmVzZW50YXRpb24uIElmIHRoZXkgYXJlIHRvIGJlICBkaXNwbGF5ZWQgaW4gYSBkaWZmZXJlbnQgb3JkZXIgKGUuZy4gZmlyc3QgVSwgdGhlbiBGLCB0aGVuIE0pLCB3ZSBtdXN0IGNoYW5nZSBpdCBieSByZWNyZWF0aW5nIHRoZSBmYWN0b3Igb2JqZWN0IGFzIGZvbGxvd3M6CgpgYGB7ciwgIGV2YWw9VH0KZmFjdG9yKGEsIGxldmVscz1jKCJVIiwiRiIsIk0iKSkKYGBgCgpUaGlzIGRldGFpbCBpcyBjcnVjaWFsIHdoZW4geW91IGFyZSB0cnlpbmcgdG8gcmVhcnJhbmdlIGVsZW1lbnRzIGluIGEgcGxvdCwgc28geW91IG5lZWQgdG8gcmVtZW1iZXIgaXQuCgo8cCBjbGFzcz0iY29tbWVudCI+CioqUHJhY3RpY2UgMy4xKiogVW5kZXJzdGFuZGluZyB0aGUgZmFjdG9ycyBhbmQgdGhlaXIgbGV2ZWxzIGlzIGNydWNpYWwsIGVzcGVjaWFsbHkgaWYgeW91IGFyZSBjcmVhdGluZyBzdWJncm91cHMgb3IgcGxvdHMuIExldCdzIGZpbmQgb3V0IHRvZ2V0aGVyIHdoeSB0aGlzIGlzIHNvIGJ5IHVzaW5nIHRoZSBgaXJpc2AgZGF0YXNldC4gU3Vic2V0IHNwZWNpZXMgYHNldG9zYWAgYW5kIGB2aXJnaW5pY2FgIGludG8gYSBuZXcgZGF0YXNldCB0aGF0IHlvdSBjYWxsIGBpcmlzLnNlbGAuIENoZWNrIHRoZSBgbGV2ZWxzYCBpbiB0aGUgdmFyaWFibGUgYGlyaXMuc2VsJFNwZWNpZXNgLiBDb25jbHVkZSBvbiB0aGUgcG9zc2libGUgY29uc2VxdWVuY2VzPwo8L3A+CgpgYGB7ciwgY2xhc3Muc291cmNlID0gImZvbGQtaGlkZSIsICBldmFsPUZ9CmlyaXMuc2VsPC0gc3Vic2V0KGlyaXMsIFNwZWNpZXMgPT0gInNldG9zYSIgfCBTcGVjaWVzID09ICJ2aXJnaW5pY2EiKQpsZXZlbHMoaXJpcy5zZWwkU3BlY2llcykgICMgMyBzcGVjaWVzIGFyZSBzdGlsbCB0aGVyZQpgYGAKCgo+IFRvIGRlbGV0ZSBhIGxldmVsIGFmdGVyIGEgc3Vic2V0LCB5b3UgY2FuIHVzZSB0aGUgYGRyb3BsZXZlbHNgIGZ1bmN0aW9uIGZvciBhIHNwZWNpZmljIHZhcmlhYmxlLiBUcnkgaXQgd2l0aCB0aGUgdmFyaWFibGUgYGlyaXMuc2VsJFNwZWNpZXNgIGFuZCBjb21wYXJlIHRoZSByZXN1bHRzIHdpdGggdGhlIGhlbHAgb2YgYm94cGxvdHMgKGA/Ym94cGxvdGApLgoKCkl0IGlzIG5vdyB0aW1lIHRvIGNoYW5nZSB0aGUgcm93IG5hbWVzIGluIG91ciBzdWJzZXQ6CgpgYGB7ciwgIGV2YWw9Rn0Kcm93bmFtZXMoaXJpcy5zZWwpID0gc2VxKGxlbmd0aD1ucm93KGlyaXMuc2VsKSkKYGBgCgo8c3BhbiBzdHlsZT0iY29sb3I6IHJlZCI+KipBTFdBWVMqKiwgKipBTFdBWVMqKiwgIENIRUNLIFRIRSBEQVRBIFRZUEUgQU5EIFNUUlVDVFVSRSBPRiBZT1VSIERBVEEgU0VUITwvc3Bhbj4KCiMjIERhdGUKCkRhdGUgdmFsdWVzIGFyZSBzdG9yZWQgYXMgbnVtYmVycy4gQnV0IHRvIGJlIHByb3Blcmx5IGludGVycHJldGVkIGFzIGEgZGF0ZSBvYmplY3QgaW4gUiwgdGhlaXIgYXR0cmlidXRlIG11c3QgYmUgZXhwbGljaXRseSBkZWZpbmVkIGFzICoqZGF0ZSoqLiBgYmFzZWAgb2ZmZXJzIG1hbnkgd2F5cyB0byBjb252ZXJ0IGFuZCBtYW5pcHVsYXRlIGRhdGVzIGFuZCB0aW1lcywgYnV0IGEgcGFja2FnZSBjYWxsZWQgYGx1YnJpZGF0ZWAgW3NlZSBgbGlicmFyeSAobHVicmlkYXRlKWBdIG1ha2VzIHdvcmtpbmcgd2l0aCBkYXRlcy90aW1lcyBtdWNoIGVhc2llci4gV29ya2luZyB3aXRoIGRhdGVzIGNvdWxkIGJlIHRoZSBzdWJqZWN0IG9mIGEgc2VwYXJhdGUgdG9waWMsIGFuZCBpdCB3aWxsIG5vIGJlIGNvdmVyZWQgaGVyZS4KCiMjIE5BcyBhbmQgTlVMTHMKCllvdSBvZnRlbiBmaW5kIG1pc3Npbmcgb3IgdW5rbm93biB2YWx1ZXMgaW4gZGF0YSBzZXRzIHRoYXQgeW91IG1heSBiZSB0ZW1wdGVkIHRvIGFzc2lnbiAqKjAqKi4gSG93ZXZlciwgdGhpcyBjYW4gYmUgdmVyeSB3cm9uZyBhbmQgbGVhZCB0byBtYW55IHVuZGVzaXJhYmxlIHJlc3VsdHMgd2hlbiBhbmFseXppbmcgdGhlIGRhdGEuIFIgaGFzIHR3byBwbGFjZWhvbGRlcnMgZm9yIHN1Y2ggZWxlbWVudHM6IGBOQWAgYW5kIGBOVUxMYC4KCmBgYHtyIGNsYXNzLnNvdXJjZSA9ICJmb2xkLXNob3ciLCAgZXZhbD1UfQp4IDwtIGMoMjMsIE5BLCAxLjIsIDUpCmBgYAoKYE5BYCAoTm90IEF2YWlsYWJsZSkgaXMgYW4gaW5kaWNhdG9yIGZvciBhIG1pc3NpbmcgdmFsdWUuIEl0IGluZGljYXRlcyB0aGF0IGEgdmFsdWUgc2hvdWxkIGJlIGF2YWlsYWJsZSBidXQgaXMgdW5rbm93bi4KCgpgYGB7ciBjbGFzcy5zb3VyY2UgPSAiZm9sZC1zaG93IiwgIGV2YWw9VH0KeSA8LSBjKDIzLCBOVUxMLCAxLjIsIDUpCmBgYAoKVGhlIGBOVUxMYCBvYmplY3QgYWxzbyBzdGFuZHMgZm9yIG1pc3NpbmcgdmFsdWVzLCBidXQgaXRzIGludGVycHJldGF0aW9uIGlzIHNsaWdodGx5IGRpZmZlcmVudCwgYXMgaXQgaW1wbGllcyB0aGF0IHRoZSB2YWx1ZSBkb2VzIG5vdCBleGlzdCBvciB0aGF0IGl04oCZcyBub3QgbWVhc3VyYWJsZS4KClRoZSBkaWZmZXJlbmNlIGJldHdlZW4gYE5BYCBhbmQgYE5VTExgIG1heSBzZWVtIHN1YnRsZSwgYnV0IHRoZWlyIGludGVycHJldGF0aW9uIGluIHNvbWUgZnVuY3Rpb25zIGNhbiBsZWFkIHRvIGRpZmZlcmVudCBvdXRjb21lcy4gRm9yIGV4YW1wbGUsIHdoZW4gY29tcHV0aW5nIHRoZSBtZWFuIG9mIGB4YCwgUiByZXR1cm5zIGFuIGBOQWAgdmFsdWU6CgpgYGB7ciBjbGFzcy5zb3VyY2UgPSAiZm9sZC1zaG93IiwgIGV2YWw9VH0KbWVhbih4KQpgYGAKClRoaXMgc2VydmVzIGFzIGEgY29udHJvbCB0byByZW1pbmQgdGhlIHVzZXIgdGhhdCBvbmUgb2YgdGhlIGVsZW1lbnRzIGlzIG1pc3NpbmcuIFRoaXMgY2FuIGJlIGNpcmN1bXZlbnRlZCBieSBzZXR0aW5nIHRoZSBgbmEucm1gIHBhcmFtZXRlciB0byBgVFJVRWAgYXMgaW4gYG1lYW4oeCwgbmEucm09VClgIGluIHdoaWNoIGNhc2UgUiBpZ25vcmVzIHRoZSBtaXNzaW5nIHZhbHVlLgoKQSBgTlVMTGAgb2JqZWN0LCBvbiB0aGUgb3RoZXIgaGFuZCwgaXMgdHJlYXRlZCBkaWZmZXJlbnRseS4gU2luY2UgYE5VTExgIGltcGxpZXMgdGhhdCBhIHZhbHVlIHNob3VsZCBub3QgZXhpc3QsIFIgbm8gbG9uZ2VyIHNlZXMgdGhlIG5lZWQgdG8gdHJlYXQgc3VjaCBhbiBlbGVtZW50IGFzIHF1ZXN0aW9uYWJsZSBhbmQgYWxsb3dzIHRoZSBtZWFuIHZhbHVlIHRvIGJlIGNhbGN1bGF0ZWQ6CgpgYGB7ciBjbGFzcy5zb3VyY2UgPSAiZm9sZC1zaG93IiwgIGV2YWw9VH0KbWVhbih5KQpgYGAKCkl0IGhhcHBlbnMgbW9yZSBvZnRlbiB0aGF0IGRhdGEgdGFibGVzIHdpdGggbWlzc2luZyBlbGVtZW50cyBhcmUgZmlsbGVkIHdpdGggYE5BYCB0aGFuIHdpdGggYE5VTExgLiBTbyBpZiB5b3UgaGF2ZSBubyBwYXJ0aWN1bGFyIHJlYXNvbiB0byB1c2UgYE5VTExgIGFzIGEgbWlzc2luZyB2YWx1ZSwgdXNlIGBOQWAgaW5zdGVhZC4KCiMgRGF0YSBzdHJ1Y3R1cmVzCgpNb3N0IG9mIHRoZSBkYXRhIHNldHMgd2Ugd29yayB3aXRoIGNvbnNpc3Qgb2YgYmF0Y2hlcyBvZiB2YWx1ZXMgc3VjaCBhcyBhICoqdGFibGUqKiAoZS5nLiB0ZW1wZXJhdHVyZSB2YWx1ZXMpIG9yIGEgbGlzdCBvZiByZXN1bHRzIChlLmcuIGFubnVhbCBzdXJ2ZXkpLiBUaGVzZSBiYXRjaGVzIG9mIGRhdGEgYXJlIHN0b3JlZCBpbiBSIGluIG9uZSBvZiBzZXZlcmFsIGRhdGEgc3RydWN0dXJlcy4gVGhlc2UgaW5jbHVkZSAqKihhdG9taWMpIHZlY3RvcnMqKiwgKipkYXRhIGZyYW1lcyoqLCAqKm1hdHJpY2VzKiogYW5kICoqbGlzdHMqKi4KCgpgYGB7ciwgZWNobz1GQUxTRSwgZmlnLmFsaWduPSdjZW50ZXInLCBmaWcuY2FwPSJTb21lIGNvbW1vbiBkYXRhIHN0cnVjdHVyZXMiLCBvdXQud2lkdGggPSAnNTAlJ30Ka25pdHI6OmluY2x1ZGVfZ3JhcGhpY3MoImlsbHVzdHJhdGlvbnMvZGF0YV9zdHJ1Y3R1cmVzLnBuZyIpCmBgYAoKCgojIyAoQXRvbWljKSB2ZWN0b3JzCgpUaGUgKiphdG9taWMgdmVjdG9yKiogKG9yICoqdmVjdG9yKiogZm9yIHNob3J0KSBpcyB0aGUgc2ltcGxlc3QgZGF0YSBzdHJ1Y3R1cmUgaW4gUiwgY29uc2lzdGluZyBvZiBhbiBvcmRlcmVkIHNldCBvZiB2YWx1ZXMgb2YgdGhlIHNhbWUgdHlwZSBhbmQvb3IgY2xhc3MgKGUuZy4gbnVtZXJpYywgY2hhcmFjdGVyLCBkYXRlLCBldGPigKYpLiBBcyBiZWZvcmUsIGEgdmVjdG9yIGNhbiBzaW1wbHkgYmUgY3JlYXRlZCB3aXRoIHRoZSBjb21iaW5hdGlvbiBmdW5jdGlvbiBgYygpYCBhcyBpbiA6CgpgYGB7ciBjbGFzcy5zb3VyY2UgPSAiZm9sZC1zaG93IiwgIGV2YWw9VH0KeCA8LSBjKDY3NCAsIDQxODYgLCA1MzA4ICwgNTA4MyAsIDYxNDAgLCA2MzgxKQp4CmBgYAoKQXMgd2UgaGF2ZSBhbHJlYWR5IHNlZW4sIGEgdmVjdG9yIG9iamVjdCBpcyBhbiAqKmluZGV4YWJsZSoqIGNvbGxlY3Rpb24gb2YgdmFsdWVzIHRoYXQgcHJvdmlkZXMgYWNjZXNzIHRvIGEgcGFydGljdWxhciBpbmRleCBudW1iZXIgKHN1YnNjcmlwdCkuIFJlbWltYmVyLCB0byBhY2Nlc3MgdGhlIHRoaXJkIGVsZW1lbnQgb2YgYHhgLCB0eXBlOgoKCmBgYHtyIGNsYXNzLnNvdXJjZSA9ICJmb2xkLXNob3ciLCAgZXZhbD1UfQp4WzNdCmBgYAoKQWxzbyBzZWVuIGJlZm9yZSwgYnV0IHlvdSBjYW4gc2VsZWN0IGEgc3Vic2V0IG9mIGVsZW1lbnRzIGJ5IGluZGV4IHZhbHVlcyB1c2luZyB0aGUgYGMoKWA6CgpgYGB7ciBjbGFzcy5zb3VyY2UgPSAiZm9sZC1zaG93IiwgIGV2YWw9VH0KeFtjKDEsMyw0KV0KYGBgCgpJZiB5b3UgYXJlIGludGVyZXN0ZWQgaW4gYSByYW5nZSBvZiBpbmRleGVkIHZhbHVlcywgc3VjaCBhcyBpbmRleCAyIHRvIDQsIHVzZSB0aGUgb3BlcmF0b3IgYDpgOgoKYGBge3IgY2xhc3Muc291cmNlID0gImZvbGQtc2hvdyIsICBldmFsPVR9CnhbMjo0XQpgYGAKCllvdSBjYW4gYWxzbyBhc3NpZ24gbmV3IHZhbHVlcyB0byBhIHNwZWNpZmljIGluZGV4LiBGb3IgZXhhbXBsZSwgd2UgY2FuIHJlcGxhY2UgdGhlIHNlY29uZCB2YWx1ZSBpbiB0aGUgdmVjdG9yIGB4YCB3aXRoIGAwYDoKCmBgYHtyIGNsYXNzLnNvdXJjZSA9ICJmb2xkLXNob3ciLCAgZXZhbD1UfQp4WzJdIDwtIDAKeApgYGAKCk5vdGUgdGhhdCBhIHZlY3RvciBjYW4gc3RvcmUgYW55IHR5cGUgb2YgZGF0YSwgc3VjaCBhcyBjaGFyYWN0ZXJzLgoKYGBge3IgY2xhc3Muc291cmNlID0gImZvbGQtc2hvdyIsICBldmFsPVR9CnggPC0gYygiYWxsIiwgImIiLCAib2xpdmUiKQp4CmBgYAoKSG93ZXZlciwgKiphIHZlY3RvciBjYW4gb25seSBiZSBvZiBvbmUgdHlwZSoqLiBGb3IgZXhhbXBsZSwgeW91IGNhbm5vdCBtaXggbnVtZXJpYyBhbmQgY2hhcmFjdGVyIHR5cGVzIGFzIGZvbGxvd3M6CgpgYGB7ciBjbGFzcy5zb3VyY2UgPSAiZm9sZC1zaG93IiwgIGV2YWw9VH0KeCA8LSBjKCAxLjIsIDUsICJSdCIsICIyMDAwIikKYGBgCgpJbiBzdWNoIGEgc2l0dWF0aW9uLCBSIGNvbnZlcnRzIHRoZSBlbGVtZW50IHR5cGVzIHRvIHRoZSAqKmhpZ2hlc3QgY29tbW9uIG1vZGUqKiwgaW4gdGhlIG9yZGVyICoqTlVMTCoqIDwgKipsb2dpY2FsKiogPCAqKmludGVnZXIqKiA8ICoqZG91YmxlKiogPCAqKmNoYXJhY3RlcioqLiBJbiBvdXIgd29ya2luZyBleGFtcGxlLCB0aGUgZWxlbWVudHMgYXJlIGNvbnZlcnRlZCB0byBjaGFyYWN0ZXJzOgoKYGBge3IgY2xhc3Muc291cmNlID0gImZvbGQtc2hvdyIsICBldmFsPVR9CnR5cGVvZih4KQpgYGAKCiMjIE1hdHJpY2VzIGFuZCBhcnJheXMKCk1hdHJpY2VzIGluIFIgY2FuIGJlIHRob3VnaHQgb2YgYXMgdmVjdG9ycyB0aGF0IGFyZSBpbmRleGVkIHdpdGggdHdvIGluZGljZXMgaW5zdGVhZCBvZiBvbmUuIEZvciBleGFtcGxlLCB0aGUgZm9sbG93aW5nIGxpbmUgb2YgY29kZSBnZW5lcmF0ZXMgYSAzIHggMyBtYXRyaXggd2l0aCByYW5kb21seSBnZW5lcmF0ZWQgdmFsdWVzLiBUaGUgcGFyYW1ldGVycyBgbnJvd2AgYW5kIGBuY29sYCBkZWZpbmUgdGhlIGRpbWVuc2lvbiBvZiB0aGUgbWF0cml4IGFuZCB0aGUgZnVuY3Rpb24gYHJ1bmlmYCBnZW5lcmF0ZXMgbmluZSByYW5kb20gbnVtYmVycyBiZXR3ZWVuIDAgYW5kIDEwIHRoYXQgZmlsbCB0aGlzIG1hdHJpeC4KCmBgYHtyIGNsYXNzLnNvdXJjZSA9ICJmb2xkLXNob3ciLCAgZXZhbD1UfQptIDwtIG1hdHJpeChydW5pZig5LDAsMTApLCBucm93ID0gMywgbmNvbCA9IDMpCm0KYGBgCgoKSWYgYSB2ZWN0b3Igb2YgaGlnaGVyIGRpbWVuc2lvbnMgaXMgZGVzaXJlZCwgdXNlIHRoZSBgYXJyYXlgIGZ1bmN0aW9uIHRvIGNyZWF0ZSB0aGUgbi1kaW1lbnNpb25hbCBvYmplY3QuIEEgM3gzeDMgYXJyYXkgY2FuIGJlIGNyZWF0ZWQgYXMgZm9sbG93czoKCmBgYHtyIGNsYXNzLnNvdXJjZSA9ICJmb2xkLXNob3ciLCAgZXZhbD1UfQptIDwtIGFycmF5KHJ1bmlmKDI3LDAsMTApLCBjKDMsMywzKSkKbQpgYGAKCk1hdHJpY2VzIGFuZCBhcnJheXMgY2FuIHN0b3JlIG51bWVyaWMgb3IgY2hhcmFjdGVyIGRhdGEgdHlwZXMsIGJ1dCBub3QgYm90aC4gVGhleSBhcmUgZGVyaXZlZCBkaXJlY3RseSBmcm9tIHRoZSB2ZWN0b3Igc3RydWN0dXJlLCBidXQgaGF2ZSBhIGhpZ2hlciBudW1iZXIgb2YgZGltZW5zaW9ucy4KCiMjIERhdGEgZnJhbWVzCgpBICoqZGF0YSBmcmFtZSoqIGlzIHRoZSBjbG9zZXN0IHRoaW5nIHdlIGhhdmUgdG8gYSB0YWJsZS4gSXQgaXMgYW4gZXh0ZW5zaW9uIG9mIHRoZSBtYXRyaXggb2JqZWN0LCBiZWNhdXNlIHVubGlrZSBhIG1hdHJpeCwgYSBkYXRhIGZyYW1lIGNhbiAqbWl4KiB0aGUgZGF0YSB0eXBlcyBhY3Jvc3MgY29sdW1ucyAoZS5nLiBib3RoICoqbnVtZXJpYyoqIGFuZCAqKmNoYXJhY3RlcioqIGNvbHVtbnMgY2FuIGNvZXhpc3QgaW4gYSBkYXRhIGZyYW1lKSwgYnV0IHRoZSBkYXRhIHR5cGUgcmVtYWlucyB0aGUgc2FtZSBhY3Jvc3Mgcm93cy4KCgpgYGB7ciBjbGFzcy5zb3VyY2UgPSAiZm9sZC1zaG93IiwgIGV2YWw9VH0KbmFtZSAgIDwtIGMoImExIiwgImEyIiwgImIzIikKdmFsdWUxIDwtIGMoMjMsIDQsIDEyKQp2YWx1ZTIgPC0gYygxLCA0NSwgNSkKZGF0ICAgIDwtIGRhdGEuZnJhbWUobmFtZSwgdmFsdWUxLCB2YWx1ZTIpCmRhdApzdHIoZGF0KSAjIHByb3ZpZGUgc3RydWN0dXJlCmF0dHJpYnV0ZXMoZGF0KSAjIHByb3ZpZGUgYXR0cmlidXRlcwpuYW1lcyhkYXQpICMgZXh0cmFjdCBjb2x1bSBuYW1lcwpyb3duYW1lcyhkYXQpICMgZXh0cmFjdCByb3cgbmFtZXMKYGBgCgojIyBMaXN0cwoKQSAqKmxpc3QqKiBpcyBhbiBvcmRlcmVkIHNldCBvZiBjb21wb25lbnRzIHN0b3JlZCBpbiBhIDFEIHZlY3Rvci4gU3RyaWN0bHkgc3BlYWtpbmcsIGl0IGlzIGEgZGlmZmVyZW50IGtpbmQgb2YgdmVjdG9yLCBhICoqcmVjdXJzaXZlIHZlY3RvcioqLCB3aGVyZSBlYWNoIHZlY3RvciBlbGVtZW50IGNhbiBoYXZlIGEgZGlmZmVyZW50IGRhdGEgdHlwZSBhbmQgc3RydWN0dXJlLiBUaGlzIG1lYW5zIHRoYXQgKiplYWNoIGVsZW1lbnQgb2YgYSBsaXN0KiogY2FuIGNvbnRhaW4gY29tcGxleCBvYmplY3RzIHN1Y2ggYXMgKiptYXRyaXgqKiwgKipkYXRhIGZyYW1lKiogYW5kIGV2ZW4gaW4gc29tZSBjYXNlcyBvdGhlciAqKmxpc3QqKiBvYmplY3RzIGVtYmVkZGVkIGluIHRoZSAqKmxpc3QqKiEgVGhpbmsgb2YgYSBsaXN0IGFzIGEgc2luZ2xlLWNvbHVtbiBzcHJlYWRzaGVldCB3aGVyZSBlYWNoIGNlbGwgY29udGFpbnMgYSBzaW5nbGUgbnVtYmVyLCBhIHRocmVlLXBhcmFncmFwaCByZWNvcmQsIG9yIGV2ZW4gYSBmaXZlLWNvbHVtbiB0YWJsZS4KCkEgbGlzdCBpcyBjcmVhdGVkIHdpdGggdGhlIGBsaXN0YCBmdW5jdGlvbi4gRm9yIGV4YW1wbGUsIHRoZSBmb2xsb3dpbmcgbGlzdCBjb25zaXN0cyBvZiB0aHJlZSBjb21wb25lbnRzOiBhIHR3by1jb2x1bW4gZGF0YSBmcmFtZSAocmVmZXJyZWQgdG8gYXMgY29tcG9uZW50IGBBYCksIGEgbG9naWNhbCB2ZWN0b3Igd2l0aCB0d28gZWxlbWVudHMgKHJlZmVycmVkIHRvIGFzIGNvbXBvbmVudCBgQmApIGFuZCBhIGNoYXJhY3RlciB2ZWN0b3Igd2l0aCB0aHJlZSBlbGVtZW50cyAocmVmZXJyZWQgdG8gYXMgY29tcG9uZW50IGBDYCkuCgoKYGBge3IgY2xhc3Muc291cmNlID0gImZvbGQtc2hvdyIsICBldmFsPVR9CkEgPC0gZGF0YS5mcmFtZSgKICAgICB4ID0gYyg3LjMsIDI5LjQsIDI5LjQsIDIuOSwgMTIuMywgNy41LCAzNi4wLCA0LjgsIDE4LjgsIDQuMiksCiAgICAgeSA9IGMoNS4yLCAyNi42LCAzMS4yLCAyLjIsIDEzLjgsIDcuOCwgMzUuMiwgOC42LCAyMC4zLCAxLjEpICkKQiA8LSBjKFRSVUUsIEZBTFNFKQpDIDwtIGMoImFwcGxlcyIsICJvcmFuZ2VzIiwgInJvdW5kIikKbXkubGlzdCA8LSBsaXN0KEEgPSBBLCBCID0gQiwgQyA9IEMpCmBgYAoKWW91IGNhbiB2aWV3IGVhY2ggY29tcG9uZW504oCZcyBzdHJ1Y3R1cmUgdXNpbmcgdGhlIGBzdHJgIGZ1bmN0aW9uLgoKCmBgYHtyIGNsYXNzLnNvdXJjZSA9ICJmb2xkLXNob3ciLCAgZXZhbD1UfQpzdHIobXkubGlzdCkKbmFtZXMobXkubGlzdCkKYGBgCgpFYWNoIGNvbXBvbmVudCBvZiBhIGxpc3QgY2FuIGJlIGV4dHJhY3RlZCB1c2luZyB0aGUgYCRgIHN5bWJvbCBmb2xsb3dlZCBieSB0aGF0IGNvbXBvbmVudOKAmXMgbmFtZS4gRm9yIGV4YW1wbGUsIHRvIGFjY2VzcyBjb21wb25lbnQgQSBmcm9tIGxpc3QgYG15Lmxpc3RgLCB0eXBlOgoKCmBgYHtyIGNsYXNzLnNvdXJjZSA9ICJmb2xkLXNob3ciLCAgZXZhbD1UfQpteS5saXN0JEEKYGBgCgpZb3UgY2FuIGFsc28gYWNjZXNzIHRoZSBzYW1lIGNvbXBvbmVudCB2aWEgaXRzIG51bWVyaWNhbCBpbmRleC4gU2luY2UgQSBpcyB0aGUgZmlyc3QgY29tcG9uZW50IGluIGBsc3RgLCBpdHMgbnVtZXJpY2FsIGluZGV4IGlzIGAxYC4KCmBgYHtyIGNsYXNzLnNvdXJjZSA9ICJmb2xkLXNob3ciLCAgZXZhbD1UfQpteS5saXN0W1sxXV0KY2xhc3MobXkubGlzdFtbMV1dKQpgYGAKCk5vdGUgdGhhdCBjb21wb25lbnRzIGRvIG5vdCBuZWVkIG5hbWVzLiBGb3IgZXhhbXBsZSwgd2UgY291bGQgaGF2ZSBjcmVhdGVkIGEgbGlzdCBsaWtlIHRoaXMgKG5vdGUgdGhlIG9taXNzaW9uIG9mIGBBPWAsIGBCPWAsIGV0Y+KApik6CgoKYGBge3IgY2xhc3Muc291cmNlID0gImZvbGQtc2hvdyIsICBldmFsPVR9Cm15Lmxpc3Qubm90YWdzIDwtIGxpc3QoQSwgQiwgRCkKbXkubGlzdC5ub3RhZ3MKYGBgCgpXaGVuIGxpc3RzIGRvIG5vdCBoYXZlIGNvbXBvbmVudCBuYW1lcywgdGhlIGBuYW1lc2AgZnVuY3Rpb24gd2lsbCByZXR1cm4gTlVMTC4KCmBgYHtyIGNsYXNzLnNvdXJjZSA9ICJmb2xkLXNob3ciLCAgZXZhbD1UfQpuYW1lcyhteS5saXN0Lm5vdGFncykKYGBgCgoKWW91IHdpbGwgbm90aWNlIHRoYXQgbWFueSBmdW5jdGlvbnMgaW4gUiByZXR1cm4gbGlzdCBvYmplY3RzIGFzIG91dHB1dC4gRm9yIGV4YW1wbGUsIGlmIHdlIGZpdCBhIGxpbmVhciBtb2RlbCBiZXR3ZWVuIHRoZSBlbGVtZW50cyBgeGAgYW5kIGB5YCAoaW4gdGhlIGRhdGEgZnJhbWUgYEFgKSwgdGhlIG91dHB1dCBvZiB0aGlzIG1vZGVsIChoZXJlIE0pIGlzIGEgbGlzdDoKCgpgYGB7ciBjbGFzcy5zb3VyY2UgPSAiZm9sZC1zaG93IiwgIGV2YWw9VH0KTSA8LSBsbSggeSB+IHgsIEEpCnN0cihNKQpuYW1lcyhNKQpgYGAKClRoZSBsaXN0IGBNYCBpcyBtb3JlIGNvbXBsZXggdGhhbiB0aGUgc2ltcGxlIGxpc3QgYG15Lmxpc3RgIHRoYXQgd2FzIGNyZWF0ZWQgYmVmb3JlLiBOb3Qgb25seSBkb2VzIGl0IGhhdmUgbW9yZSBjb21wb25lbnRzLCBidXQgaXQgYWxzbyBzdG9yZXMgYSBncmVhdGVyKiByYW5nZSBvZiBkYXRhIHR5cGVzIGFuZCBzdHJ1Y3R1cmVzLiBGb3IgZXhhbXBsZSwgdGhlIGVsZW1lbnQgYHFyYCBpcyBpdHNlbGYgYSBsaXN0IHdpdGggZml2ZSBlbGVtZW50cyEKCmBgYHtyIGNsYXNzLnNvdXJjZSA9ICJmb2xkLXNob3ciLCAgZXZhbD1UfQpzdHIoTSRxcikKYGBgCgpTbyBpZiB3ZSB3YW50IHRvIGFjY2VzcyB0aGUgZWxlbWVudCByYW5rIGluIHRoZSBjb21wb25lbnQgYHFyYCBvZiB0aGUgbGlzdCBgTWAsIHdlIGNhbiB1c2U6CgpgYGB7ciBjbGFzcy5zb3VyY2UgPSAiZm9sZC1zaG93IiwgIGV2YWw9VH0KTSRxciRyYW5rCmBgYAoKVGhpcyBzdHJ1Y3R1cmUgb2YgdGhlIG91dHB1dCBvZiBhIGZ1bmN0aW9uIGlzIGNvbW1vbi4gSXQgaXMgc3BlY2lmaWVkIHdpdGggYGxtYCBpbiB0aGUgaGVscCBvZiB0aGUgZnVuY3Rpb24gKGA/bG1gKTogKiJvYmplY3Qgb2YgY2xhc3MgImxtIiBpcyBhICoqbGlzdCoqIGNvbnRhaW5pbmcgYXQgbGVhc3QgdGhlIGZvbGxvd2luZyBjb21wb25lbnRzIioKCiMgQ29lcmNpbmcgZGF0YQoKRGF0YSBjYW4gYmUgY29udmVydGVkIGZyb20gb25lIHR5cGUgdG8gYW5vdGhlci4gRm9yIGV4YW1wbGUsIHRvIGNvbnZlcnQgdGhlIGZvbGxvd2luZyB2ZWN0b3Igb2JqZWN0IGZyb20gY2hhcmFjdGVyIHRvIG51bWVyaWMsIHVzZSB0aGUgZnVuY3Rpb24gYGFzLm51bWVyaWNgLgoKYGBge3IgY2xhc3Muc291cmNlID0gImZvbGQtc2hvdyIsICBldmFsPVR9CnkgICA8LSBjKCIyMy44IiwgIjYiLCAiMTAwLjAxIiwiNiIpCnkuYyA8LSBhcy5udW1lcmljKHkpCnkuYwpgYGAKClRoZSBmdW5jdGlvbiBgYXMubnVtZXJpY2AgY29udmVydHMgdGhlIHZlY3RvciBpbnRvIGEgZG91YmxlICh5b3UgY291bGQgYWxzbyBoYXZlIHVzZWQgdGhlIGZ1bmN0aW9uIGBhcy5kb3VibGVgKS4gSWYgeW91IGNvbnZlcnQgYHlgIHRvIGFuIGludGVnZXIsIFIgd2lsbCByZW1vdmUgYWxsIGRlY2ltYWxzIGZyb20gdGhlIG51bWJlci4KCmBgYHtyIGNsYXNzLnNvdXJjZSA9ICJmb2xkLXNob3ciLCAgZXZhbD1UfQphcy5pbnRlZ2VyKHkpCmBgYAoKVG8gY29udmVydCBhIG51bWJlciB0byBhIGNoYXJhY3RlciB1c2UgYGFzLmNoYXJhY3RlcmAKCmBgYHtyIGNsYXNzLnNvdXJjZSA9ICJmb2xkLXNob3ciLCAgZXZhbD1UfQpudW1jaGFyIDwtIGFzLmNoYXJhY3Rlcih5LmMpCm51bWNoYXIKYGBgCgpZb3UgY2FuIGFsc28gY29lcmNlIGEgbnVtYmVyIG9yIGEgY2hhcmFjdGVyIGludG8gYSBmYWN0b3IuCgpgYGB7ciBjbGFzcy5zb3VyY2UgPSAiZm9sZC1zaG93IiwgIGV2YWw9VH0KbnVtZmFjIDwtIGFzLmZhY3Rvcih5KQpudW1mYWMKYGBgCgpgYGB7ciBjbGFzcy5zb3VyY2UgPSAiZm9sZC1zaG93IiwgIGV2YWw9VH0KY2hhcmZhYyA8LSBhcy5mYWN0b3IoeS5jKQpjaGFyZmFjCmBgYAoKClRoZXJlIGFyZSBtYW55IG90aGVyIGNvZXJjaW9uIGZ1bmN0aW9ucyBpbiBSLCBhIHN1bW1hcnkgb2Ygc29tZSBvZiB0aGUgbW9zdCBjb21tb24gb25lcyB3ZSB3aWxsIHVzZSBpbiB0aGlzIGNvdXJzZSwgYW5kIG90aGVyczoKCgpgYGB7ciBjbGFzcy5zb3VyY2UgPSAiZm9sZC1zaG93IiwgIGV2YWw9Rn0KYXMubnVtZXJpYyAgIyBDb2VyY2UgdG8gbnVtZXJpYwphcy5kb3VibGUJIyBDb2VyY2UgdG8gZG91YmxlCmFzLmludGVnZXIJIyBDb2VyY2UgdG8gaW50ZWdlcgphcy5jaGFyYWN0ZXIgIwlDb2VyY2UgdG8gY2hhcmFjdGVyCmFzLmxvZ2ljYWwJIyBDb2VyY2UgdG8gQm9vbGVhbiAobG9naWNhbDogVFJVRSB8IEZBTFNFKQphcy5mYWN0b3IJIyBDb2VyY2UgdG8gZmFjdG9yCmFzLkRhdGUgICMgQ29lcmNlIHRvIGRhdGUKYXMuZGF0YS5mcmFtZSAgIyBDb2VyY2UgdG8gZGF0YSBmcmFtZQphcy5saXN0ICMgQ29lcmNlIHRvIGxpc3QKYGBgCgotLS0tLS0tLS0KCgo8cCBjbGFzcz0iYWxlcnQiPgoqKmByIGtuaXRyOjphc2lzX291dHB1dCgiXFUyNkEwIilgIFByYWN0aWNlIDMuMioqIENyZWF0ZSB0aGUgZm9sbG93aW5nIGRhdGEgZnJhbWUgZnJvbSBzY3JhdGNoLiBJbiB0aGlzIHNob3J0IGFuZCBub3QgdmVyeSBzY2llbnRpZmljIGV4cGVyaW1lbnQsIHRoZSBncm93dGggY29uZGl0aW9ucyBvZiBmaXZlIHBsYW50IGluZGl2aWR1YWxzIGFyZSB0byBiZSB0ZXN0ZWQuIFRoZSBoZWlnaHQgb2YgdGhlIHBsYW50cyB3aWxsIGJlIG1lYXN1cmVkIGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIGV4cGVyaW1lbnQgYW5kIGFmdGVyIG9uZSB3ZWVrLiBUaGUgYGhlaWdodGAgaXMgYSBkb3VibGU7IHRoZSB0aW1lIG9mIHRoZSBtZWFzdXJlbWVudCAoYHN0YXJ0X2V4cGVyaW1lbnRgIGFuZCBgZW5kX2V4cGVyaW1lbnRgKSBhbmQgdGhlIGluZGl2aWR1YWwgcGxhbnRzIChgcGxhbnQgMWAsIGBwbGFudCAyYCxgcGxhbnQgM2AsYHBsYW50IDRgIGFuZCBgcGxhbnQgNWApIGFyZSAqKmNoYXJhY3RlcioqIHZlY3RvcnMuIFJlZm9ybWF0IHRoaXMgZGF0YSBmcmFtZSB0byBvYnRhaW4gdGhlIGBoZWlnaHRgIGludG8gb25lIHNpbmdsZSBjb2x1bW4gYW5kIHRoZSBgdGltZWAgb2YgdGhlIG1lYXN1cmVtZW50IGFzIGEgZmFjdG9yIHdpdGggdHdvIGxldmVscy4gWW91IHNhdmUgdGhpcyAqKmRhdGEgZnJhbWUqKiBhcyB0aGUgZmlyc3QgZWxlbWVudCBvZiBhIGxpc3QgbmFtZWQgKipgbXkuZXhwZXJpbWVudGAqKi4gVGhlIHNlY29uZCBlbGVtZW50IG9mIHRoaXMgbGlzdCB3aWxsIGJlIGFub3RoZXIgbGlzdCBjYWxsZWQgKipgZ3Jvd3RoYCoqLCBpbiB3aGljaCB0aHJlZSBlbGVtZW50cyBhcmUgc3RvcmVkOiBbMV0gYSAqKmNoYXJhY3RlciB2ZWN0b3IqKiBleHRyYWN0aW5nIHRoZSByb3cgbmFtZXMgb2YgdGhlIHByZXZpb3VzbHkgY3JlYXRlZCB0YWJsZSA7IFsyXSBhICoqbnVtZXJpYyB2ZWN0b3IqKiAoZG91YmxlKSBpbmRpY2F0aW5nIHRoZSBjaGFuZ2UgaW4gaGVpZ2h0IG9mIGVhY2ggcGxhbnQgKGNhbiBiZSBwb3NpdGl2ZSBvciBuZWdhdGl2ZSwgYnV0IHdpbGwgYmUgY2FsY3VsYXRlZCBhcyBhIHBlcmNlbnRhZ2Ugb2YgdGhlIGluaXRpYWwgaGVpZ2h0KTsgWzNdIGEgY29tYmluYXRpb24gb2YgdGhlc2UgdHdvIGVsZW1lbnRzIGluIGEgKip0YWJsZSB3aXRoIHR3byBjb2x1bW5zKio6IGBwbGFudHNgIGFuZCBgZ3Jvd3RoYC4gVGhlIHRoaXJkIGVsZW1lbnQgb2YgdGhlICoqYG15LmV4cGVyaW1lbnRgKiogbGlzdCB3aWxsIGJlIGFuIGFyYml0cmFyeSBtZXNzYWdlIGFib3V0IHRoZSBncm93dGggc3RhdHVzIG9mIHRoZXNlIHBsYW50cy4gWW91IHdpbGwgcHV0IGJvdGggeW91ciAqLlJtZCogYW5kICouaHRtbCogZmlsZXMgaW4gYSBwdWJsaWMgcmVwb3NpdG9yeSBhY2Nlc3NpYmxlIHRocm91Z2ggeW91ciBHaXRodWIgYWNjb3VudC4gWW91IHdpbGwgZW1haWwgbWUgW3ZpYW5uZXlkZW5pc0BnLm50dS5lZHUudHddIHdpdGggdGhlIGFkZHJlc3MgKFVSTCkgb2YgdGhpcyByZXBvc2l0b3J5IChlLmcuIGh0dHBzOi8vZ2l0aHViLmNvbS92aWFubmV5ZGVuaXMvT0NFQU41MDk4Qi5naXQpICoqYmVmb3JlIG5leHQgTW9uZGF5Kiogc28gdGhhdCBJIGNhbiByZXZpZXcgeW91ciB3b3JrLiBUaGUgKip0aXRsZSBvZiB5b3VyIGVtYWlsKiogc2hvdWxkIGJlOiBgUHJhY3RpY2UgMy4yICh5b3VyIG5hbWU6IHlvdXIgc3R1ZGVudCBuby4pLiBFTkpPWSA7KQo8L3A+CgoKYGBge3IsIGVjaG89RkFMU0V9CnBsYW50cyA8LSBjKCdwbGFudCAxJywncGxhbnQgMicsJ3BsYW50IDMnLCdwbGFudCA0JywncGxhbnQgNScpCnRpbWUuZXhwPC0gYygnc3RhcnRfZXhwZXJpbWVudCcsICdlbmRfZXhwZXJpbWVudCcpCmhlaWdodDwtIGMoNCw1LDMsNiw3LDksNiw1LDQsNykKbXkubWF0cml4PC1tYXRyaXgoaGVpZ2h0LDUsMikKbXkudGFibGU8LWRhdGEuZnJhbWUgKG15Lm1hdHJpeCwgcm93Lm5hbWVzPXBsYW50cykKY29sbmFtZXMobXkudGFibGUpPC10aW1lLmV4cApteS50YWJsZQpgYGA=" download="types.Rmd">Download types.Rmd</a>
<a href="data:text/plain;base64,eGFyaW5nYW5FeHRyYTo6dXNlX2NsaXBib2FyZCgpCgp4IDwtIGMoMS4wLCAtMy40LCAyLCAxNDAuMSkgIyBudW1lcmljIGFuZCBkb3VibGUKdHlwZW9mKHgpIAptb2RlKHgpCgp4IDwtIDQKdHlwZW9mKHgpCgp4IDwtIDRMCnR5cGVvZih4KQoKeCA8LSBjKCJidWJ1bCIsICJtYWdwaWUiLCAic3Bvb25iaWxsIiwgImJhcmJldCIpCnR5cGVvZih4KQoKeCA8LSAzCnkgPC0gNS4zCnggKyB5Cgp4IDwtICIzIgp5IDwtICI1LjMiCgojIG5vdCBydW46ICB4KyB5CgojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwojIEVycm9yIGluIHggKyB5OiBub24tbnVtZXJpYyBhcmd1bWVudCB0byBiaW5hcnkgb3BlcmF0b3IgIwojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwoKCiMgZnVsbCB0ZXh0Ogp4IDwtIGMoVFJVRSwgRkFMU0UsIEZBTFNFLCBUUlVFKQojIG9yIGluIHNob3J0Ogp4IDwtIGMoVCwgRiwgRiwgVCkKCngxPC1jKDEsMCwwLDEpCngyIDwtIGFzLmxvZ2ljYWwoYygxLDAsMCwxKSkKIyBPUjogeDMgPC0gYXMubG9naWNhbChjKDEsMCwwLDEpKQoKYSA8LSBjKCJNIiwgIkYiLCAiRiIsICJVIiwgIkYiLCAiTSIsICJNIiwgIk0iLCAiRiIsICJVIikKdHlwZW9mKGEpICMgbW9kZSBjaGFyYWN0ZXIKY2xhc3MoYSkjIGNsYXNzIGNoYXJhY3RlcgphLmZhY3QgPC0gYXMuZmFjdG9yKGEpCmNsYXNzKGEuZmFjdCkjIGNsYXNzIGZhY3RvcgoKbW9kZShhLmZhY3QpCnR5cGVvZihhLmZhY3QpCgphLmZhY3QKCmF0dHJpYnV0ZXMoYS5mYWN0KQoKbGV2ZWxzKGEuZmFjdCkKCmZhY3RvcihhLCBsZXZlbHM9YygiVSIsIkYiLCJNIikpCgojIyBpcmlzLnNlbDwtIHN1YnNldChpcmlzLCBTcGVjaWVzID09ICJzZXRvc2EiIHwgU3BlY2llcyA9PSAidmlyZ2luaWNhIikKIyMgbGV2ZWxzKGlyaXMuc2VsJFNwZWNpZXMpICAjIDMgc3BlY2llcyBhcmUgc3RpbGwgdGhlcmUKCiMjIHJvd25hbWVzKGlyaXMuc2VsKSA9IHNlcShsZW5ndGg9bnJvdyhpcmlzLnNlbCkpCgp4IDwtIGMoMjMsIE5BLCAxLjIsIDUpCgp5IDwtIGMoMjMsIE5VTEwsIDEuMiwgNSkKCm1lYW4oeCkKCm1lYW4oeSkKCmtuaXRyOjppbmNsdWRlX2dyYXBoaWNzKCJpbGx1c3RyYXRpb25zL2RhdGFfc3RydWN0dXJlcy5wbmciKQoKeCA8LSBjKDY3NCAsIDQxODYgLCA1MzA4ICwgNTA4MyAsIDYxNDAgLCA2MzgxKQp4Cgp4WzNdCgp4W2MoMSwzLDQpXQoKeFsyOjRdCgp4WzJdIDwtIDAKeAoKeCA8LSBjKCJhbGwiLCAiYiIsICJvbGl2ZSIpCngKCnggPC0gYyggMS4yLCA1LCAiUnQiLCAiMjAwMCIpCgp0eXBlb2YoeCkKCm0gPC0gbWF0cml4KHJ1bmlmKDksMCwxMCksIG5yb3cgPSAzLCBuY29sID0gMykKbQoKbSA8LSBhcnJheShydW5pZigyNywwLDEwKSwgYygzLDMsMykpCm0KCm5hbWUgICA8LSBjKCJhMSIsICJhMiIsICJiMyIpCnZhbHVlMSA8LSBjKDIzLCA0LCAxMikKdmFsdWUyIDwtIGMoMSwgNDUsIDUpCmRhdCAgICA8LSBkYXRhLmZyYW1lKG5hbWUsIHZhbHVlMSwgdmFsdWUyKQpkYXQKc3RyKGRhdCkgIyBwcm92aWRlIHN0cnVjdHVyZQphdHRyaWJ1dGVzKGRhdCkgIyBwcm92aWRlIGF0dHJpYnV0ZXMKbmFtZXMoZGF0KSAjIGV4dHJhY3QgY29sdW0gbmFtZXMKcm93bmFtZXMoZGF0KSAjIGV4dHJhY3Qgcm93IG5hbWVzCgpBIDwtIGRhdGEuZnJhbWUoCiAgICAgeCA9IGMoNy4zLCAyOS40LCAyOS40LCAyLjksIDEyLjMsIDcuNSwgMzYuMCwgNC44LCAxOC44LCA0LjIpLAogICAgIHkgPSBjKDUuMiwgMjYuNiwgMzEuMiwgMi4yLCAxMy44LCA3LjgsIDM1LjIsIDguNiwgMjAuMywgMS4xKSApCkIgPC0gYyhUUlVFLCBGQUxTRSkKQyA8LSBjKCJhcHBsZXMiLCAib3JhbmdlcyIsICJyb3VuZCIpCm15Lmxpc3QgPC0gbGlzdChBID0gQSwgQiA9IEIsIEMgPSBDKQoKc3RyKG15Lmxpc3QpCm5hbWVzKG15Lmxpc3QpCgpteS5saXN0JEEKCm15Lmxpc3RbWzFdXQpjbGFzcyhteS5saXN0W1sxXV0pCgpteS5saXN0Lm5vdGFncyA8LSBsaXN0KEEsIEIsIEQpCm15Lmxpc3Qubm90YWdzCgpuYW1lcyhteS5saXN0Lm5vdGFncykKCk0gPC0gbG0oIHkgfiB4LCBBKQpzdHIoTSkKbmFtZXMoTSkKCnN0cihNJHFyKQoKTSRxciRyYW5rCgp5ICAgPC0gYygiMjMuOCIsICI2IiwgIjEwMC4wMSIsIjYiKQp5LmMgPC0gYXMubnVtZXJpYyh5KQp5LmMKCmFzLmludGVnZXIoeSkKCm51bWNoYXIgPC0gYXMuY2hhcmFjdGVyKHkuYykKbnVtY2hhcgoKbnVtZmFjIDwtIGFzLmZhY3Rvcih5KQpudW1mYWMKCmNoYXJmYWMgPC0gYXMuZmFjdG9yKHkuYykKY2hhcmZhYwoKIyMgYXMubnVtZXJpYyAgIyBDb2VyY2UgdG8gbnVtZXJpYwojIyBhcy5kb3VibGUJIyBDb2VyY2UgdG8gZG91YmxlCiMjIGFzLmludGVnZXIJIyBDb2VyY2UgdG8gaW50ZWdlcgojIyBhcy5jaGFyYWN0ZXIgIwlDb2VyY2UgdG8gY2hhcmFjdGVyCiMjIGFzLmxvZ2ljYWwJIyBDb2VyY2UgdG8gQm9vbGVhbiAobG9naWNhbDogVFJVRSB8IEZBTFNFKQojIyBhcy5mYWN0b3IJIyBDb2VyY2UgdG8gZmFjdG9yCiMjIGFzLkRhdGUgICMgQ29lcmNlIHRvIGRhdGUKIyMgYXMuZGF0YS5mcmFtZSAgIyBDb2VyY2UgdG8gZGF0YSBmcmFtZQojIyBhcy5saXN0ICMgQ29lcmNlIHRvIGxpc3QKCnBsYW50cyA8LSBjKCdwbGFudCAxJywncGxhbnQgMicsJ3BsYW50IDMnLCdwbGFudCA0JywncGxhbnQgNScpCnRpbWUuZXhwPC0gYygnc3RhcnRfZXhwZXJpbWVudCcsICdlbmRfZXhwZXJpbWVudCcpCmhlaWdodDwtIGMoNCw1LDMsNiw3LDksNiw1LDQsNykKbXkubWF0cml4PC1tYXRyaXgoaGVpZ2h0LDUsMikKbXkudGFibGU8LWRhdGEuZnJhbWUgKG15Lm1hdHJpeCwgcm93Lm5hbWVzPXBsYW50cykKY29sbmFtZXMobXkudGFibGUpPC10aW1lLmV4cApteS50YWJsZQo=" download="types.R">Download types.R</a>
<hr />
<p>Previously we used <code>str</code> to learn the <strong>structure</strong> of an object. Knowing the type and structure of the data you are working on is crucial for any further analysis. Nevertheless, this step is often skipped, which can lead to serious problems in the following steps. This section introduces some common data types and structures that are frequently encountered in this course.</p>
<div id="core-data-types" class="section level1">
<h1>Core data types</h1>
<p>These data types, or <strong>modes</strong>, determine how the values are stored in the computer. You can determine the mode of an object with the <code>typeof</code> function. Note that R also has a built-in <code>mode</code> function that serves the same purpose, with the only exception that it does not distinguish between <strong>integers</strong> and <strong>doubles</strong> (see meanings below).</p>
<div id="numeric" class="section level2">
<h2>Numeric</h2>
<p>The <strong>numeric</strong> data type is probably the simplest. It consists of numbers such as <strong>integers</strong> (iwhole-valued positive or negative number or 0, e.g. 1 ,-3 ,33 ,0) or <strong>doubles</strong> (e.g. 0.3, 12.4, -0.04, 1.0). For example, to create a numeric (double) vector, we can write:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">1.0</span>, <span class="sc">-</span><span class="fl">3.4</span>, <span class="dv">2</span>, <span class="fl">140.1</span>) <span class="co"># numeric and double</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(x) </span></code></pre></div>
<pre><code>## [1] &quot;double&quot;</code></pre>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mode</span>(x)</span></code></pre></div>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<p>Note that removing the fractional part of a number when creating a numeric object does not necessarily create an integer. For example, creating an apparent integer object results in a double with <code>typeof</code> :</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">4</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(x)</span></code></pre></div>
<pre><code>## [1] &quot;double&quot;</code></pre>
<p>To force R to recognize a value as an integer, add a capital <code>L</code> to the number.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> 4L</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(x)</span></code></pre></div>
<pre><code>## [1] &quot;integer&quot;</code></pre>
</div>
<div id="character" class="section level2">
<h2>Character</h2>
<p>The data type <strong>character</strong> consists of letters or words such as “a”, “f”, “project”, “birds”.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;bubul&quot;</span>, <span class="st">&quot;magpie&quot;</span>, <span class="st">&quot;spoonbill&quot;</span>, <span class="st">&quot;barbet&quot;</span>)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(x)</span></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<p>Characters can also consist of numbers that are represented as characters. The distinction between a character representation of a number and a numerical representation is important. For example, if we have two numeric vectors <code>x</code> and <code>y</code> such as:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fl">5.3</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>x <span class="sc">+</span> y</span></code></pre></div>
<pre><code>## [1] 8.3</code></pre>
<p>If we repeat these steps, but instead of representing <code>x</code> and <code>y</code> as <strong>numeric</strong> and <strong>doubles</strong> we enter ‘3’ and ‘5.3’ as <strong>characters</strong>. When we try to add them up, we will logically get an error:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="st">&quot;3&quot;</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="st">&quot;5.3&quot;</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="co"># not run:  x+ y</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="do">###########################################################</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Error in x + y: non-numeric argument to binary operator #</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a><span class="do">###########################################################</span></span></code></pre></div>
<p>Note the use of quotation marks to force <strong>double</strong> to be recognized as <strong>character</strong>. Be careful that some functions like <code>plot</code> automatically convert <strong>character</strong> to <strong>double</strong>. Try <code>plot(x,y)</code>, it works!</p>
</div>
<div id="logical" class="section level2">
<h2>Logical</h2>
<p>Logical values can take one of two values/conditions: <code>TRUE</code> or <code>FALSE</code>. These can also be represented as <code>1</code> or <code>0</code>, which are later assigned as <strong>logical</strong> values. For example, to create a logical vector with 4 elements, you can enter the following:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># full text:</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="co"># or in short:</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(T, F, F, T)</span></code></pre></div>
<p>or</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>x1<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">1</span>)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>x2 <span class="ot">&lt;-</span> <span class="fu">as.logical</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">1</span>))</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="co"># OR: x3 &lt;- as.logical(c(1,0,0,1))</span></span></code></pre></div>
<p>Note that <code>typeof</code> returns <strong>logical</strong> in both cases. Also note that the <code>1</code> and <code>0</code> in the last example are converted internally into <code>TRUE</code> and <code>FALSE</code> using the function <code>as.logical</code> (= create a logical vector).</p>
</div>
</div>
<div id="derived-data-types" class="section level1">
<h1>Derived data types</h1>
<p>These data types are stored either as numeric, character or logical, but have additional <em>attribute</em> information that allows these objects to be handled in a special way by certain functions. These attributes define the <strong>class</strong> of an object and can be extracted from an object using the <code>class</code> function.</p>
<div id="factor" class="section level2">
<h2>Factor</h2>
<p><strong>Factor</strong> is used to group variables into a fixed number of unique categories or <strong>levels</strong>. For example, a data set can be grouped by <em>gender</em> or <em>month</em> of year. Such data is usually loaded into R as a <strong>numeric</strong> or <strong>character</strong> data type and must then be converted into a factor using the <code>as.factor</code> function (if this has not been done automatically when importing the data).</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;M&quot;</span>, <span class="st">&quot;F&quot;</span>, <span class="st">&quot;F&quot;</span>, <span class="st">&quot;U&quot;</span>, <span class="st">&quot;F&quot;</span>, <span class="st">&quot;M&quot;</span>, <span class="st">&quot;M&quot;</span>, <span class="st">&quot;M&quot;</span>, <span class="st">&quot;F&quot;</span>, <span class="st">&quot;U&quot;</span>)</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(a) <span class="co"># mode character</span></span></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(a)<span class="co"># class character</span></span></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>a.fact <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(a)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(a.fact)<span class="co"># class factor</span></span></code></pre></div>
<pre><code>## [1] &quot;factor&quot;</code></pre>
<p><strong>Note</strong>: <code>a</code> has not changed the mode. The data is still of the type <code>character</code>. However, it may seem strange at first, but the derived object <code>a.fact</code> is now stored as an <code>integer</code>!</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mode</span>(a.fact)</span></code></pre></div>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(a.fact)</span></code></pre></div>
<pre><code>## [1] &quot;integer&quot;</code></pre>
<p>However, when we display the content of <code>a.fact</code> we see character values.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>a.fact</span></code></pre></div>
<pre><code>##  [1] M F F U F M M M F U
## Levels: F M U</code></pre>
<p><strong>為什麼</strong> (why)?Well, <code>a.fact</code> is a more complicated object than the simple objects created so far. In fact, <strong>factor</strong> stores additional information not visible in its output. This hidden information is stored in <strong>attributes</strong>. To see these hidden attributes, use the <code>attributes</code> function.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">attributes</span>(a.fact)</span></code></pre></div>
<pre><code>## $levels
## [1] &quot;F&quot; &quot;M&quot; &quot;U&quot;
## 
## $class
## [1] &quot;factor&quot;</code></pre>
<p>There are two attributes: <code>levels</code> and <code>class</code>. The <code>levels</code> attribute lists the three unique values in <code>a.fact</code>. The order in which these levels are listed reflects their <em>numeric</em> representation [see <code>str (a.fact)</code> and the numeric sequence generated: <code>2 1 1 3 ...</code>]. So essentially, <code>a.fact</code> stores each value as an integer that refers to one of the three unique levels. The unique levels of a factor and the order in which they are stored can be extracted using the <code>levels</code> function.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(a.fact)</span></code></pre></div>
<pre><code>## [1] &quot;F&quot; &quot;M&quot; &quot;U&quot;</code></pre>
<p>Remember that the order in which the levels are displayed corresponds to their integer representation. If they are to be displayed in a different order (e.g. first U, then F, then M), we must change it by recreating the factor object as follows:</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">factor</span>(a, <span class="at">levels=</span><span class="fu">c</span>(<span class="st">&quot;U&quot;</span>,<span class="st">&quot;F&quot;</span>,<span class="st">&quot;M&quot;</span>))</span></code></pre></div>
<pre><code>##  [1] M F F U F M M M F U
## Levels: U F M</code></pre>
<p>This detail is crucial when you are trying to rearrange elements in a plot, so you need to remember it.</p>
<p class="comment">
<strong>Practice 3.1</strong> Understanding the factors and their levels is crucial, especially if you are creating subgroups or plots. Let’s find out together why this is so by using the <code>iris</code> dataset. Subset species <code>setosa</code> and <code>virginica</code> into a new dataset that you call <code>iris.sel</code>. Check the <code>levels</code> in the variable <code>iris.sel$Species</code>. Conclude on the possible consequences?
</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r fold-hide"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>iris.sel<span class="ot">&lt;-</span> <span class="fu">subset</span>(iris, Species <span class="sc">==</span> <span class="st">&quot;setosa&quot;</span> <span class="sc">|</span> Species <span class="sc">==</span> <span class="st">&quot;virginica&quot;</span>)</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(iris.sel<span class="sc">$</span>Species)  <span class="co"># 3 species are still there</span></span></code></pre></div>
<blockquote>
<p>To delete a level after a subset, you can use the <code>droplevels</code> function for a specific variable. Try it with the variable <code>iris.sel$Species</code> and compare the results with the help of boxplots (<code>?boxplot</code>).</p>
</blockquote>
<p>It is now time to change the row names in our subset:</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(iris.sel) <span class="ot">=</span> <span class="fu">seq</span>(<span class="at">length=</span><span class="fu">nrow</span>(iris.sel))</span></code></pre></div>
<p><span style="color: red"><strong>ALWAYS</strong>, <strong>ALWAYS</strong>, CHECK THE DATA TYPE AND STRUCTURE OF YOUR DATA SET!</span></p>
</div>
<div id="date" class="section level2">
<h2>Date</h2>
<p>Date values are stored as numbers. But to be properly interpreted as a date object in R, their attribute must be explicitly defined as <strong>date</strong>. <code>base</code> offers many ways to convert and manipulate dates and times, but a package called <code>lubridate</code> [see <code>library (lubridate)</code>] makes working with dates/times much easier. Working with dates could be the subject of a separate topic, and it will no be covered here.</p>
</div>
<div id="nas-and-nulls" class="section level2">
<h2>NAs and NULLs</h2>
<p>You often find missing or unknown values in data sets that you may be tempted to assign <strong>0</strong>. However, this can be very wrong and lead to many undesirable results when analyzing the data. R has two placeholders for such elements: <code>NA</code> and <code>NULL</code>.</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r fold-show"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">23</span>, <span class="cn">NA</span>, <span class="fl">1.2</span>, <span class="dv">5</span>)</span></code></pre></div>
<p><code>NA</code> (Not Available) is an indicator for a missing value. It indicates that a value should be available but is unknown.</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r fold-show"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">23</span>, <span class="cn">NULL</span>, <span class="fl">1.2</span>, <span class="dv">5</span>)</span></code></pre></div>
<p>The <code>NULL</code> object also stands for missing values, but its interpretation is slightly different, as it implies that the value does not exist or that it’s not measurable.</p>
<p>The difference between <code>NA</code> and <code>NULL</code> may seem subtle, but their interpretation in some functions can lead to different outcomes. For example, when computing the mean of <code>x</code>, R returns an <code>NA</code> value:</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r fold-show"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(x)</span></code></pre></div>
<pre><code>## [1] NA</code></pre>
<p>This serves as a control to remind the user that one of the elements is missing. This can be circumvented by setting the <code>na.rm</code> parameter to <code>TRUE</code> as in <code>mean(x, na.rm=T)</code> in which case R ignores the missing value.</p>
<p>A <code>NULL</code> object, on the other hand, is treated differently. Since <code>NULL</code> implies that a value should not exist, R no longer sees the need to treat such an element as questionable and allows the mean value to be calculated:</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r fold-show"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(y)</span></code></pre></div>
<pre><code>## [1] 9.733333</code></pre>
<p>It happens more often that data tables with missing elements are filled with <code>NA</code> than with <code>NULL</code>. So if you have no particular reason to use <code>NULL</code> as a missing value, use <code>NA</code> instead.</p>
</div>
</div>
<div id="data-structures" class="section level1">
<h1>Data structures</h1>
<p>Most of the data sets we work with consist of batches of values such as a <strong>table</strong> (e.g. temperature values) or a list of results (e.g. annual survey). These batches of data are stored in R in one of several data structures. These include <strong>(atomic) vectors</strong>, <strong>data frames</strong>, <strong>matrices</strong> and <strong>lists</strong>.</p>
<div class="figure" style="text-align: center">
<img src="illustrations/data_structures.png" alt="Some common data structures" width="50%" />
<p class="caption">
Some common data structures
</p>
</div>
<div id="atomic-vectors" class="section level2">
<h2>(Atomic) vectors</h2>
<p>The <strong>atomic vector</strong> (or <strong>vector</strong> for short) is the simplest data structure in R, consisting of an ordered set of values of the same type and/or class (e.g. numeric, character, date, etc…). As before, a vector can simply be created with the combination function <code>c()</code> as in :</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r fold-show"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">674</span> , <span class="dv">4186</span> , <span class="dv">5308</span> , <span class="dv">5083</span> , <span class="dv">6140</span> , <span class="dv">6381</span>)</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1]  674 4186 5308 5083 6140 6381</code></pre>
<p>As we have already seen, a vector object is an <strong>indexable</strong> collection of values that provides access to a particular index number (subscript). Remimber, to access the third element of <code>x</code>, type:</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r fold-show"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">3</span>]</span></code></pre></div>
<pre><code>## [1] 5308</code></pre>
<p>Also seen before, but you can select a subset of elements by index values using the <code>c()</code>:</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r fold-show"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">4</span>)]</span></code></pre></div>
<pre><code>## [1]  674 5308 5083</code></pre>
<p>If you are interested in a range of indexed values, such as index 2 to 4, use the operator <code>:</code>:</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r fold-show"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">2</span><span class="sc">:</span><span class="dv">4</span>]</span></code></pre></div>
<pre><code>## [1] 4186 5308 5083</code></pre>
<p>You can also assign new values to a specific index. For example, we can replace the second value in the vector <code>x</code> with <code>0</code>:</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r fold-show"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1]  674    0 5308 5083 6140 6381</code></pre>
<p>Note that a vector can store any type of data, such as characters.</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r fold-show"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;all&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;olive&quot;</span>)</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1] &quot;all&quot;   &quot;b&quot;     &quot;olive&quot;</code></pre>
<p>However, <strong>a vector can only be of one type</strong>. For example, you cannot mix numeric and character types as follows:</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r fold-show"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>( <span class="fl">1.2</span>, <span class="dv">5</span>, <span class="st">&quot;Rt&quot;</span>, <span class="st">&quot;2000&quot;</span>)</span></code></pre></div>
<p>In such a situation, R converts the element types to the <strong>highest common mode</strong>, in the order <strong>NULL</strong> &lt; <strong>logical</strong> &lt; <strong>integer</strong> &lt; <strong>double</strong> &lt; <strong>character</strong>. In our working example, the elements are converted to characters:</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r fold-show"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(x)</span></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
</div>
<div id="matrices-and-arrays" class="section level2">
<h2>Matrices and arrays</h2>
<p>Matrices in R can be thought of as vectors that are indexed with two indices instead of one. For example, the following line of code generates a 3 x 3 matrix with randomly generated values. The parameters <code>nrow</code> and <code>ncol</code> define the dimension of the matrix and the function <code>runif</code> generates nine random numbers between 0 and 10 that fill this matrix.</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r fold-show"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">runif</span>(<span class="dv">9</span>,<span class="dv">0</span>,<span class="dv">10</span>), <span class="at">nrow =</span> <span class="dv">3</span>, <span class="at">ncol =</span> <span class="dv">3</span>)</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>m</span></code></pre></div>
<pre><code>##          [,1]     [,2]     [,3]
## [1,] 7.096649 9.788566 4.973221
## [2,] 3.404286 9.279345 4.189669
## [3,] 2.204531 2.598457 3.383911</code></pre>
<p>If a vector of higher dimensions is desired, use the <code>array</code> function to create the n-dimensional object. A 3x3x3 array can be created as follows:</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r fold-show"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="fu">array</span>(<span class="fu">runif</span>(<span class="dv">27</span>,<span class="dv">0</span>,<span class="dv">10</span>), <span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">3</span>))</span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>m</span></code></pre></div>
<pre><code>## , , 1
## 
##          [,1]     [,2]     [,3]
## [1,] 1.039071 2.227734 6.507119
## [2,] 4.416199 3.897913 9.772224
## [3,] 8.842256 3.423020 1.967563
## 
## , , 2
## 
##           [,1]     [,2]     [,3]
## [1,] 0.5515126 6.938270 9.138370
## [2,] 9.5965818 5.993663 1.803744
## [3,] 7.1806345 9.148791 4.087015
## 
## , , 3
## 
##          [,1]     [,2]      [,3]
## [1,] 2.142724 3.793495 8.8576261
## [2,] 6.299236 2.609472 4.1772670
## [3,] 4.928809 5.565079 0.8375216</code></pre>
<p>Matrices and arrays can store numeric or character data types, but not both. They are derived directly from the vector structure, but have a higher number of dimensions.</p>
</div>
<div id="data-frames" class="section level2">
<h2>Data frames</h2>
<p>A <strong>data frame</strong> is the closest thing we have to a table. It is an extension of the matrix object, because unlike a matrix, a data frame can <em>mix</em> the data types across columns (e.g. both <strong>numeric</strong> and <strong>character</strong> columns can coexist in a data frame), but the data type remains the same across rows.</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r fold-show"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>name   <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;a1&quot;</span>, <span class="st">&quot;a2&quot;</span>, <span class="st">&quot;b3&quot;</span>)</span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>value1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">23</span>, <span class="dv">4</span>, <span class="dv">12</span>)</span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>value2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">45</span>, <span class="dv">5</span>)</span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a>dat    <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(name, value1, value2)</span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a>dat</span></code></pre></div>
<pre><code>##   name value1 value2
## 1   a1     23      1
## 2   a2      4     45
## 3   b3     12      5</code></pre>
<div class="sourceCode" id="cb63"><pre class="sourceCode r fold-show"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(dat) <span class="co"># provide structure</span></span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    3 obs. of  3 variables:
##  $ name  : chr  &quot;a1&quot; &quot;a2&quot; &quot;b3&quot;
##  $ value1: num  23 4 12
##  $ value2: num  1 45 5</code></pre>
<div class="sourceCode" id="cb65"><pre class="sourceCode r fold-show"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="fu">attributes</span>(dat) <span class="co"># provide attributes</span></span></code></pre></div>
<pre><code>## $names
## [1] &quot;name&quot;   &quot;value1&quot; &quot;value2&quot;
## 
## $class
## [1] &quot;data.frame&quot;
## 
## $row.names
## [1] 1 2 3</code></pre>
<div class="sourceCode" id="cb67"><pre class="sourceCode r fold-show"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(dat) <span class="co"># extract colum names</span></span></code></pre></div>
<pre><code>## [1] &quot;name&quot;   &quot;value1&quot; &quot;value2&quot;</code></pre>
<div class="sourceCode" id="cb69"><pre class="sourceCode r fold-show"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(dat) <span class="co"># extract row names</span></span></code></pre></div>
<pre><code>## [1] &quot;1&quot; &quot;2&quot; &quot;3&quot;</code></pre>
</div>
<div id="lists" class="section level2">
<h2>Lists</h2>
<p>A <strong>list</strong> is an ordered set of components stored in a 1D vector. Strictly speaking, it is a different kind of vector, a <strong>recursive vector</strong>, where each vector element can have a different data type and structure. This means that <strong>each element of a list</strong> can contain complex objects such as <strong>matrix</strong>, <strong>data frame</strong> and even in some cases other <strong>list</strong> objects embedded in the <strong>list</strong>! Think of a list as a single-column spreadsheet where each cell contains a single number, a three-paragraph record, or even a five-column table.</p>
<p>A list is created with the <code>list</code> function. For example, the following list consists of three components: a two-column data frame (referred to as component <code>A</code>), a logical vector with two elements (referred to as component <code>B</code>) and a character vector with three elements (referred to as component <code>C</code>).</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r fold-show"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>A <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>     <span class="at">x =</span> <span class="fu">c</span>(<span class="fl">7.3</span>, <span class="fl">29.4</span>, <span class="fl">29.4</span>, <span class="fl">2.9</span>, <span class="fl">12.3</span>, <span class="fl">7.5</span>, <span class="fl">36.0</span>, <span class="fl">4.8</span>, <span class="fl">18.8</span>, <span class="fl">4.2</span>),</span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a>     <span class="at">y =</span> <span class="fu">c</span>(<span class="fl">5.2</span>, <span class="fl">26.6</span>, <span class="fl">31.2</span>, <span class="fl">2.2</span>, <span class="fl">13.8</span>, <span class="fl">7.8</span>, <span class="fl">35.2</span>, <span class="fl">8.6</span>, <span class="fl">20.3</span>, <span class="fl">1.1</span>) )</span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a>B <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>)</span>
<span id="cb71-5"><a href="#cb71-5" aria-hidden="true" tabindex="-1"></a>C <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;apples&quot;</span>, <span class="st">&quot;oranges&quot;</span>, <span class="st">&quot;round&quot;</span>)</span>
<span id="cb71-6"><a href="#cb71-6" aria-hidden="true" tabindex="-1"></a>my.list <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">A =</span> A, <span class="at">B =</span> B, <span class="at">C =</span> C)</span></code></pre></div>
<p>You can view each component’s structure using the <code>str</code> function.</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r fold-show"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(my.list)</span></code></pre></div>
<pre><code>## List of 3
##  $ A:&#39;data.frame&#39;:   10 obs. of  2 variables:
##   ..$ x: num [1:10] 7.3 29.4 29.4 2.9 12.3 7.5 36 4.8 18.8 4.2
##   ..$ y: num [1:10] 5.2 26.6 31.2 2.2 13.8 7.8 35.2 8.6 20.3 1.1
##  $ B: logi [1:2] TRUE FALSE
##  $ C: chr [1:3] &quot;apples&quot; &quot;oranges&quot; &quot;round&quot;</code></pre>
<div class="sourceCode" id="cb74"><pre class="sourceCode r fold-show"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(my.list)</span></code></pre></div>
<pre><code>## [1] &quot;A&quot; &quot;B&quot; &quot;C&quot;</code></pre>
<p>Each component of a list can be extracted using the <code>$</code> symbol followed by that component’s name. For example, to access component A from list <code>my.list</code>, type:</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r fold-show"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a>my.list<span class="sc">$</span>A</span></code></pre></div>
<pre><code>##       x    y
## 1   7.3  5.2
## 2  29.4 26.6
## 3  29.4 31.2
## 4   2.9  2.2
## 5  12.3 13.8
## 6   7.5  7.8
## 7  36.0 35.2
## 8   4.8  8.6
## 9  18.8 20.3
## 10  4.2  1.1</code></pre>
<p>You can also access the same component via its numerical index. Since A is the first component in <code>lst</code>, its numerical index is <code>1</code>.</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r fold-show"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a>my.list[[<span class="dv">1</span>]]</span></code></pre></div>
<pre><code>##       x    y
## 1   7.3  5.2
## 2  29.4 26.6
## 3  29.4 31.2
## 4   2.9  2.2
## 5  12.3 13.8
## 6   7.5  7.8
## 7  36.0 35.2
## 8   4.8  8.6
## 9  18.8 20.3
## 10  4.2  1.1</code></pre>
<div class="sourceCode" id="cb80"><pre class="sourceCode r fold-show"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(my.list[[<span class="dv">1</span>]])</span></code></pre></div>
<pre><code>## [1] &quot;data.frame&quot;</code></pre>
<p>Note that components do not need names. For example, we could have created a list like this (note the omission of <code>A=</code>, <code>B=</code>, etc…):</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r fold-show"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a>my.list.notags <span class="ot">&lt;-</span> <span class="fu">list</span>(A, B, D)</span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a>my.list.notags</span></code></pre></div>
<pre><code>## [[1]]
##       x    y
## 1   7.3  5.2
## 2  29.4 26.6
## 3  29.4 31.2
## 4   2.9  2.2
## 5  12.3 13.8
## 6   7.5  7.8
## 7  36.0 35.2
## 8   4.8  8.6
## 9  18.8 20.3
## 10  4.2  1.1
## 
## [[2]]
## [1]  TRUE FALSE
## 
## [[3]]
## function (expr, name) 
## .External(C_doD, expr, name)
## &lt;bytecode: 0x1152be000&gt;
## &lt;environment: namespace:stats&gt;</code></pre>
<p>When lists do not have component names, the <code>names</code> function will return NULL.</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r fold-show"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(my.list.notags)</span></code></pre></div>
<pre><code>## NULL</code></pre>
<p>You will notice that many functions in R return list objects as output. For example, if we fit a linear model between the elements <code>x</code> and <code>y</code> (in the data frame <code>A</code>), the output of this model (here M) is a list:</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r fold-show"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a>M <span class="ot">&lt;-</span> <span class="fu">lm</span>( y <span class="sc">~</span> x, A)</span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(M)</span></code></pre></div>
<pre><code>## List of 12
##  $ coefficients : Named num [1:2] 0.0779 0.991
##   ..- attr(*, &quot;names&quot;)= chr [1:2] &quot;(Intercept)&quot; &quot;x&quot;
##  $ residuals    : Named num [1:10] -2.112 -2.612 1.988 -0.752 1.533 ...
##   ..- attr(*, &quot;names&quot;)= chr [1:10] &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot; ...
##  $ effects      : Named num [1:10] -48.07 -36.54 3.13 -0.66 2 ...
##   ..- attr(*, &quot;names&quot;)= chr [1:10] &quot;(Intercept)&quot; &quot;x&quot; &quot;&quot; &quot;&quot; ...
##  $ rank         : int 2
##  $ fitted.values: Named num [1:10] 7.31 29.21 29.21 2.95 12.27 ...
##   ..- attr(*, &quot;names&quot;)= chr [1:10] &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot; ...
##  $ assign       : int [1:2] 0 1
##  $ qr           :List of 5
##   ..$ qr   : num [1:10, 1:2] -3.162 0.316 0.316 0.316 0.316 ...
##   .. ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. .. ..$ : chr [1:10] &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot; ...
##   .. .. ..$ : chr [1:2] &quot;(Intercept)&quot; &quot;x&quot;
##   .. ..- attr(*, &quot;assign&quot;)= int [1:2] 0 1
##   ..$ qraux: num [1:2] 1.32 1.44
##   ..$ pivot: int [1:2] 1 2
##   ..$ tol  : num 1e-07
##   ..$ rank : int 2
##   ..- attr(*, &quot;class&quot;)= chr &quot;qr&quot;
##  $ df.residual  : int 8
##  $ xlevels      : Named list()
##  $ call         : language lm(formula = y ~ x, data = A)
##  $ terms        :Classes &#39;terms&#39;, &#39;formula&#39;  language y ~ x
##   .. ..- attr(*, &quot;variables&quot;)= language list(y, x)
##   .. ..- attr(*, &quot;factors&quot;)= int [1:2, 1] 0 1
##   .. .. ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. .. .. ..$ : chr [1:2] &quot;y&quot; &quot;x&quot;
##   .. .. .. ..$ : chr &quot;x&quot;
##   .. ..- attr(*, &quot;term.labels&quot;)= chr &quot;x&quot;
##   .. ..- attr(*, &quot;order&quot;)= int 1
##   .. ..- attr(*, &quot;intercept&quot;)= int 1
##   .. ..- attr(*, &quot;response&quot;)= int 1
##   .. ..- attr(*, &quot;.Environment&quot;)=&lt;environment: R_GlobalEnv&gt; 
##   .. ..- attr(*, &quot;predvars&quot;)= language list(y, x)
##   .. ..- attr(*, &quot;dataClasses&quot;)= Named chr [1:2] &quot;numeric&quot; &quot;numeric&quot;
##   .. .. ..- attr(*, &quot;names&quot;)= chr [1:2] &quot;y&quot; &quot;x&quot;
##  $ model        :&#39;data.frame&#39;:   10 obs. of  2 variables:
##   ..$ y: num [1:10] 5.2 26.6 31.2 2.2 13.8 7.8 35.2 8.6 20.3 1.1
##   ..$ x: num [1:10] 7.3 29.4 29.4 2.9 12.3 7.5 36 4.8 18.8 4.2
##   ..- attr(*, &quot;terms&quot;)=Classes &#39;terms&#39;, &#39;formula&#39;  language y ~ x
##   .. .. ..- attr(*, &quot;variables&quot;)= language list(y, x)
##   .. .. ..- attr(*, &quot;factors&quot;)= int [1:2, 1] 0 1
##   .. .. .. ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. .. .. .. ..$ : chr [1:2] &quot;y&quot; &quot;x&quot;
##   .. .. .. .. ..$ : chr &quot;x&quot;
##   .. .. ..- attr(*, &quot;term.labels&quot;)= chr &quot;x&quot;
##   .. .. ..- attr(*, &quot;order&quot;)= int 1
##   .. .. ..- attr(*, &quot;intercept&quot;)= int 1
##   .. .. ..- attr(*, &quot;response&quot;)= int 1
##   .. .. ..- attr(*, &quot;.Environment&quot;)=&lt;environment: R_GlobalEnv&gt; 
##   .. .. ..- attr(*, &quot;predvars&quot;)= language list(y, x)
##   .. .. ..- attr(*, &quot;dataClasses&quot;)= Named chr [1:2] &quot;numeric&quot; &quot;numeric&quot;
##   .. .. .. ..- attr(*, &quot;names&quot;)= chr [1:2] &quot;y&quot; &quot;x&quot;
##  - attr(*, &quot;class&quot;)= chr &quot;lm&quot;</code></pre>
<div class="sourceCode" id="cb88"><pre class="sourceCode r fold-show"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(M)</span></code></pre></div>
<pre><code>##  [1] &quot;coefficients&quot;  &quot;residuals&quot;     &quot;effects&quot;       &quot;rank&quot;         
##  [5] &quot;fitted.values&quot; &quot;assign&quot;        &quot;qr&quot;            &quot;df.residual&quot;  
##  [9] &quot;xlevels&quot;       &quot;call&quot;          &quot;terms&quot;         &quot;model&quot;</code></pre>
<p>The list <code>M</code> is more complex than the simple list <code>my.list</code> that was created before. Not only does it have more components, but it also stores a greater* range of data types and structures. For example, the element <code>qr</code> is itself a list with five elements!</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r fold-show"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(M<span class="sc">$</span>qr)</span></code></pre></div>
<pre><code>## List of 5
##  $ qr   : num [1:10, 1:2] -3.162 0.316 0.316 0.316 0.316 ...
##   ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. ..$ : chr [1:10] &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot; ...
##   .. ..$ : chr [1:2] &quot;(Intercept)&quot; &quot;x&quot;
##   ..- attr(*, &quot;assign&quot;)= int [1:2] 0 1
##  $ qraux: num [1:2] 1.32 1.44
##  $ pivot: int [1:2] 1 2
##  $ tol  : num 1e-07
##  $ rank : int 2
##  - attr(*, &quot;class&quot;)= chr &quot;qr&quot;</code></pre>
<p>So if we want to access the element rank in the component <code>qr</code> of the list <code>M</code>, we can use:</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r fold-show"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a>M<span class="sc">$</span>qr<span class="sc">$</span>rank</span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<p>This structure of the output of a function is common. It is specified with <code>lm</code> in the help of the function (<code>?lm</code>): <em>“object of class”lm” is a <strong>list</strong> containing at least the following components”</em></p>
</div>
</div>
<div id="coercing-data" class="section level1">
<h1>Coercing data</h1>
<p>Data can be converted from one type to another. For example, to convert the following vector object from character to numeric, use the function <code>as.numeric</code>.</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r fold-show"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a>y   <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;23.8&quot;</span>, <span class="st">&quot;6&quot;</span>, <span class="st">&quot;100.01&quot;</span>,<span class="st">&quot;6&quot;</span>)</span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a>y.c <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(y)</span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a>y.c</span></code></pre></div>
<pre><code>## [1]  23.80   6.00 100.01   6.00</code></pre>
<p>The function <code>as.numeric</code> converts the vector into a double (you could also have used the function <code>as.double</code>). If you convert <code>y</code> to an integer, R will remove all decimals from the number.</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r fold-show"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.integer</span>(y)</span></code></pre></div>
<pre><code>## [1]  23   6 100   6</code></pre>
<p>To convert a number to a character use <code>as.character</code></p>
<div class="sourceCode" id="cb98"><pre class="sourceCode r fold-show"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a>numchar <span class="ot">&lt;-</span> <span class="fu">as.character</span>(y.c)</span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a>numchar</span></code></pre></div>
<pre><code>## [1] &quot;23.8&quot;   &quot;6&quot;      &quot;100.01&quot; &quot;6&quot;</code></pre>
<p>You can also coerce a number or a character into a factor.</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode r fold-show"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a>numfac <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(y)</span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a>numfac</span></code></pre></div>
<pre><code>## [1] 23.8   6      100.01 6     
## Levels: 100.01 23.8 6</code></pre>
<div class="sourceCode" id="cb102"><pre class="sourceCode r fold-show"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a>charfac <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(y.c)</span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a>charfac</span></code></pre></div>
<pre><code>## [1] 23.8   6      100.01 6     
## Levels: 6 23.8 100.01</code></pre>
<p>There are many other coercion functions in R, a summary of some of the most common ones we will use in this course, and others:</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r fold-show"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a>as.numeric  <span class="co"># Coerce to numeric</span></span>
<span id="cb104-2"><a href="#cb104-2" aria-hidden="true" tabindex="-1"></a>as.double   <span class="co"># Coerce to double</span></span>
<span id="cb104-3"><a href="#cb104-3" aria-hidden="true" tabindex="-1"></a>as.integer  <span class="co"># Coerce to integer</span></span>
<span id="cb104-4"><a href="#cb104-4" aria-hidden="true" tabindex="-1"></a>as.character <span class="co">#  Coerce to character</span></span>
<span id="cb104-5"><a href="#cb104-5" aria-hidden="true" tabindex="-1"></a>as.logical  <span class="co"># Coerce to Boolean (logical: TRUE | FALSE)</span></span>
<span id="cb104-6"><a href="#cb104-6" aria-hidden="true" tabindex="-1"></a>as.factor   <span class="co"># Coerce to factor</span></span>
<span id="cb104-7"><a href="#cb104-7" aria-hidden="true" tabindex="-1"></a>as.Date  <span class="co"># Coerce to date</span></span>
<span id="cb104-8"><a href="#cb104-8" aria-hidden="true" tabindex="-1"></a>as.data.frame  <span class="co"># Coerce to data frame</span></span>
<span id="cb104-9"><a href="#cb104-9" aria-hidden="true" tabindex="-1"></a>as.list <span class="co"># Coerce to list</span></span></code></pre></div>
<hr />
<p class="alert">
<strong>⚠ Practice 3.2</strong> Create the following data frame from scratch. In this short and not very scientific experiment, the growth conditions of five plant individuals are to be tested. The height of the plants will be measured at the beginning of the experiment and after one week. The <code>height</code> is a double; the time of the measurement (<code>start_experiment</code> and <code>end_experiment</code>) and the individual plants (<code>plant 1</code>, <code>plant 2</code>,<code>plant 3</code>,<code>plant 4</code> and <code>plant 5</code>) are <strong>character</strong> vectors. Reformat this data frame to obtain the <code>height</code> into one single column and the <code>time</code> of the measurement as a factor with two levels. You save this <strong>data frame</strong> as the first element of a list named <strong><code>my.experiment</code></strong>. The second element of this list will be another list called <strong><code>growth</code></strong>, in which three elements are stored: [1] a <strong>character vector</strong> extracting the row names of the previously created table ; [2] a <strong>numeric vector</strong> (double) indicating the change in height of each plant (can be positive or negative, but will be calculated as a percentage of the initial height); [3] a combination of these two elements in a <strong>table with two columns</strong>: <code>plants</code> and <code>growth</code>. The third element of the <strong><code>my.experiment</code></strong> list will be an arbitrary message about the growth status of these plants. You will put both your <em>.Rmd</em> and <em>.html</em> files in a public repository accessible through your Github account. You will email me [<a href="mailto:vianneydenis@g.ntu.edu.tw" class="email">vianneydenis@g.ntu.edu.tw</a>] with the address (URL) of this repository (e.g. <a href="https://github.com/vianneydenis/OCEAN5098B.git" class="uri">https://github.com/vianneydenis/OCEAN5098B.git</a>) <strong>before next Monday</strong> so that I can review your work. The <strong>title of your email</strong> should be: `Practice 3.2 (your name: your student no.). ENJOY ;)
</p>
<pre><code>##         start_experiment end_experiment
## plant 1                4              9
## plant 2                5              6
## plant 3                3              5
## plant 4                6              4
## plant 5                7              7</code></pre>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("show" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
